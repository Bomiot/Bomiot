import{Q as De}from"./QPage-Cbwj6EO4.js";import{u as Re}from"./use-meta-T7rPjses.js";import{u as Se}from"./use-quasar-f8m-PZpx.js";import{b as Pe,h as ye,u as Te,Q as J,a as $e,d as Ae,e as re,f as se}from"./QItemLabel-DDMdkE6q.js";import{c as de,j as Qe,k as ke,ay as qe,az as je,aA as Ie,a as b,h as v,aB as Oe,g as ce,r as x,y as ze,B as we,s as Me,D as He,F as We,aC as Ge,P as Je,w as fe,e as Ce,aD as Ve,aE as Xe,aF as Ye,aG as ue,ai as Ke,a9 as M,aH as Ze,a2 as w,a3 as te,a6 as C,a7 as g,at as ae,aI as Fe,ab as $,a8 as I,ad as S,a5 as D,ao as V,aa as et,ac as tt,o as at}from"./index-DC_W_xoa.js";import{u as lt}from"./language-h3alFOcN.js";import{u as ot}from"./vue-i18n.runtime-CWmhyg6E.js";const nt=de({name:"QUploaderAddTrigger",setup(){const t=Qe(qe,ke);return t===ke&&console.error("QUploaderAddTrigger needs to be child of QUploader"),t}}),rt={...je,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:t=>t>=0&&t<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ie=50,Ue=2*ie,Be=Ue*Math.PI,st=Math.round(Be*1e3)/1e3,ut=de({name:"QCircularProgress",props:{...rt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(t,{slots:u}){const{proxy:{$q:r}}=ce(),o=Ie(t),i=b(()=>{const m=(r.lang.rtl===!0?-1:1)*t.angle;return{transform:t.reverse!==(r.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-m}deg)`:`rotate3d(0, 0, 1, ${m-90}deg)`}}),c=b(()=>t.instantFeedback!==!0&&t.indeterminate!==!0?{transition:`stroke-dashoffset ${t.animationSpeed}ms ease 0s, stroke ${t.animationSpeed}ms ease`}:""),y=b(()=>Ue/(1-t.thickness/2)),U=b(()=>`${y.value/2} ${y.value/2} ${y.value} ${y.value}`),B=b(()=>Pe(t.value,t.min,t.max)),R=b(()=>t.max-t.min),z=b(()=>t.thickness/2*y.value),P=b(()=>{const m=(t.max-B.value)/R.value,e=t.rounded===!0&&B.value<t.max&&m<.25?z.value/2*(1-m/.25):0;return Be*m+e});function N({thickness:m,offset:e,color:s,cls:h,rounded:n}){return v("circle",{class:"q-circular-progress__"+h+(s!==void 0?` text-${s}`:""),style:c.value,fill:"transparent",stroke:"currentColor","stroke-width":m,"stroke-dasharray":st,"stroke-dashoffset":e,"stroke-linecap":n,cx:y.value,cy:y.value,r:ie})}return()=>{const m=[];t.centerColor!==void 0&&t.centerColor!=="transparent"&&m.push(v("circle",{class:`q-circular-progress__center text-${t.centerColor}`,fill:"currentColor",r:ie-z.value/2,cx:y.value,cy:y.value})),t.trackColor!==void 0&&t.trackColor!=="transparent"&&m.push(N({cls:"track",thickness:z.value,offset:0,color:t.trackColor})),m.push(N({cls:"circle",thickness:z.value,offset:P.value,color:t.color,rounded:t.rounded===!0?"round":void 0}));const e=[v("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:U.value,"aria-hidden":"true"},m)];return t.showValue===!0&&e.push(v("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:t.fontSize}},u.default!==void 0?u.default():[v("div",B.value)])),v("div",{class:`q-circular-progress q-circular-progress--${t.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.indeterminate===!0?void 0:B.value},Oe(u.internal,e))}}});function Z(t,u,r,o){const i=[];return t.forEach(c=>{o(c)===!0?i.push(c):u.push({failedPropValidation:r,file:c})}),i}function oe(t){t&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy"),we(t)}const it={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},dt=["rejected"];function ct({editable:t,dnd:u,getFileInput:r,addFilesToQueue:o}){const{props:i,emit:c,proxy:y}=ce(),U=x(null),B=b(()=>i.accept!==void 0?i.accept.split(",").map(a=>(a=a.trim(),a==="*"?"*/":(a.endsWith("/*")&&(a=a.slice(0,a.length-1)),a.toUpperCase()))):null),R=b(()=>parseInt(i.maxFiles,10)),z=b(()=>parseInt(i.maxTotalSize,10));function P(a){if(t.value)if(a!==Object(a)&&(a={target:null}),a.target!==null&&a.target.matches('input[type="file"]')===!0)a.clientX===0&&a.clientY===0&&ze(a);else{const q=r();q&&q!==a.target&&q.click(a)}}function N(a){t.value&&a&&o(null,a)}function m(a,q,H,W){let f=Array.from(q||a.target.files);const k=[],T=()=>{k.length!==0&&c("rejected",k)};if(i.accept!==void 0&&B.value.indexOf("*/")===-1&&(f=Z(f,k,"accept",p=>B.value.some(F=>p.type.toUpperCase().startsWith(F)||p.name.toUpperCase().endsWith(F))),f.length===0))return T();if(i.maxFileSize!==void 0){const p=parseInt(i.maxFileSize,10);if(f=Z(f,k,"max-file-size",F=>F.size<=p),f.length===0)return T()}if(i.multiple!==!0&&f.length!==0&&(f=[f[0]]),f.forEach(p=>{p.__key=p.webkitRelativePath+p.lastModified+p.name+p.size}),W===!0){const p=H.map(F=>F.__key);f=Z(f,k,"duplicate",F=>p.includes(F.__key)===!1)}if(f.length===0)return T();if(i.maxTotalSize!==void 0){let p=W===!0?H.reduce((F,Q)=>F+Q.size,0):0;if(f=Z(f,k,"max-total-size",F=>(p+=F.size,p<=z.value)),f.length===0)return T()}if(typeof i.filter=="function"){const p=i.filter(f);f=Z(f,k,"filter",F=>p.includes(F))}if(i.maxFiles!==void 0){let p=W===!0?H.length:0;if(f=Z(f,k,"max-files",()=>(p++,p<=R.value)),f.length===0)return T()}if(T(),f.length!==0)return f}function e(a){oe(a),u.value!==!0&&(u.value=!0)}function s(a){we(a),(a.relatedTarget!==null||Me.is.safari!==!0?a.relatedTarget!==U.value:document.elementsFromPoint(a.clientX,a.clientY).includes(U.value)===!1)===!0&&(u.value=!1)}function h(a){oe(a);const q=a.dataTransfer.files;q.length!==0&&o(null,q),u.value=!1}function n(a){if(u.value===!0)return v("div",{ref:U,class:`q-${a}__dnd absolute-full`,onDragenter:oe,onDragover:oe,onDragleave:s,onDrop:h})}return Object.assign(y,{pickFiles:P,addFiles:N}),{pickFiles:P,addFiles:N,onDragover:e,onDragleave:s,processFiles:m,getDndNode:n,maxFilesNumber:R,maxTotalSizeNumber:z}}function xe(t){return(t*100).toFixed(2)+"%"}const ft={...He,...it,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Ee=[...dt,"start","finish","added","removed"];function vt(t,u){const r=ce(),{props:o,slots:i,emit:c,proxy:y}=r,{$q:U}=y,B=We(o,U);function R(l,_,E){if(l.__status=_,_==="idle"){l.__uploaded=0,l.__progress=0,l.__sizeLabel=ye(l.size),l.__progressLabel="0.00%";return}if(_==="failed"){y.$forceUpdate();return}l.__uploaded=_==="uploaded"?l.size:E,l.__progress=_==="uploaded"?1:Math.min(.9999,l.__uploaded/l.size),l.__progressLabel=xe(l.__progress),y.$forceUpdate()}const z=b(()=>o.disable!==!0&&o.readonly!==!0),P=x(!1),N=x(null),m=x(null),e={files:x([]),queuedFiles:x([]),uploadedFiles:x([]),uploadedSize:x(0),updateFileStatus:R,isAlive:()=>Ge(r)===!1},{pickFiles:s,addFiles:h,onDragover:n,onDragleave:a,processFiles:q,getDndNode:H,maxFilesNumber:W,maxTotalSizeNumber:f}=ct({editable:z,dnd:P,getFileInput:_e,addFilesToQueue:ge});Object.assign(e,t({props:o,slots:i,emit:c,helpers:e,exposeApi:l=>{Object.assign(e,l)}})),e.isBusy===void 0&&(e.isBusy=x(!1));const k=x(0),T=b(()=>k.value===0?0:e.uploadedSize.value/k.value),p=b(()=>xe(T.value)),F=b(()=>ye(k.value)),Q=b(()=>z.value===!0&&e.isUploading.value!==!0&&(o.multiple===!0||e.queuedFiles.value.length===0)&&(o.maxFiles===void 0||e.files.value.length<W.value)&&(o.maxTotalSize===void 0||k.value<f.value)),d=b(()=>z.value===!0&&e.isBusy.value!==!0&&e.isUploading.value!==!0&&e.queuedFiles.value.length!==0);Je(qe,he);const G=b(()=>"q-uploader column no-wrap"+(B.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(P.value===!0?" q-uploader--dnd":"")),X=b(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));fe(e.isUploading,(l,_)=>{_===!1&&l===!0?c("start"):_===!0&&l===!1&&c("finish")});function Y(){o.disable===!1&&(e.abort(),e.uploadedSize.value=0,k.value=0,pe(),e.files.value=[],e.queuedFiles.value=[],e.uploadedFiles.value=[])}function A(){o.disable===!1&&ve(["uploaded"],()=>{e.uploadedFiles.value=[]})}function le(){ve(["idle","failed"],({size:l})=>{k.value-=l,e.queuedFiles.value=[]})}function ve(l,_){if(o.disable===!0)return;const E={files:[],size:0},j=e.files.value.filter(L=>l.indexOf(L.__status)===-1?!0:(E.size+=L.size,E.files.push(L),L.__img!==void 0&&window.URL.revokeObjectURL(L.__img.src),!1));E.files.length!==0&&(e.files.value=j,_(E),c("removed",E.files))}function ne(l){o.disable||(l.__status==="uploaded"?e.uploadedFiles.value=e.uploadedFiles.value.filter(_=>_.__key!==l.__key):l.__status==="uploading"?l.__abort():k.value-=l.size,e.files.value=e.files.value.filter(_=>_.__key!==l.__key?!0:(_.__img!==void 0&&window.URL.revokeObjectURL(_.__img.src),!1)),e.queuedFiles.value=e.queuedFiles.value.filter(_=>_.__key!==l.__key),c("removed",[l]))}function pe(){e.files.value.forEach(l=>{l.__img!==void 0&&window.URL.revokeObjectURL(l.__img.src)})}function _e(){return m.value||N.value.getElementsByClassName("q-uploader__input")[0]}function ge(l,_){const E=q(l,_,e.files.value,!0),j=_e();j!=null&&(j.value=""),E!==void 0&&(E.forEach(L=>{if(e.updateFileStatus(L,"idle"),k.value+=L.size,o.noThumbnails!==!0&&L.type.toUpperCase().startsWith("IMAGE")){const be=new Image;be.src=window.URL.createObjectURL(L),L.__img=be}}),e.files.value=e.files.value.concat(E),e.queuedFiles.value=e.queuedFiles.value.concat(E),c("added",E),o.autoUpload===!0&&e.upload())}function me(){d.value===!0&&e.upload()}function ee(l,_,E){if(l===!0){const j={type:"a",key:_,icon:U.iconSet.uploader[_],flat:!0,dense:!0};let L;return _==="add"?(j.onClick=s,L=he):j.onClick=E,v(M,j,L)}}function he(){return v("input",{ref:m,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:ze,onClick:s,onChange:ge})}function Le(){return i.header!==void 0?i.header(K):[v("div",{class:"q-uploader__header-content column"},[v("div",{class:"flex flex-center no-wrap q-gutter-xs"},[ee(e.queuedFiles.value.length!==0,"removeQueue",le),ee(e.uploadedFiles.value.length!==0,"removeUploaded",A),e.isUploading.value===!0?v(ue,{class:"q-uploader__spinner"}):null,v("div",{class:"col column justify-center"},[o.label!==void 0?v("div",{class:"q-uploader__title"},[o.label]):null,v("div",{class:"q-uploader__subtitle"},[F.value+" / "+p.value])]),ee(Q.value,"add"),ee(o.hideUploadBtn===!1&&d.value===!0,"upload",e.upload),ee(e.isUploading.value,"clear",e.abort)])])]}function Ne(){return i.list!==void 0?i.list(K):e.files.value.map(l=>v("div",{key:l.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&l.__img!==void 0?" q-uploader__file--img":"")+(l.__status==="failed"?" q-uploader__file--failed":l.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&l.__img!==void 0?{backgroundImage:'url("'+l.__img.src+'")',backgroundSize:o.thumbnailFit}:null},[v("div",{class:"q-uploader__file-header row flex-center no-wrap"},[l.__status==="failed"?v(Ke,{class:"q-uploader__file-status",name:U.iconSet.type.negative,color:"negative"}):null,v("div",{class:"q-uploader__file-header-content col"},[v("div",{class:"q-uploader__title"},[l.name]),v("div",{class:"q-uploader__subtitle row items-center no-wrap"},[l.__sizeLabel+" / "+l.__progressLabel])]),l.__status==="uploading"?v(ut,{value:l.__progress,min:0,max:1,indeterminate:l.__progress===0}):v(M,{round:!0,dense:!0,flat:!0,icon:U.iconSet.uploader[l.__status==="uploaded"?"done":"clear"],onClick:()=>{ne(l)}})])]))}Ce(()=>{e.isUploading.value===!0&&e.abort(),e.files.value.length!==0&&pe()});const K={};for(const l in e)Ve(e[l])===!0?Xe(K,l,()=>e[l].value):K[l]=e[l];return Object.assign(K,{upload:me,reset:Y,removeUploadedFiles:A,removeQueuedFiles:le,removeFile:ne,pickFiles:s,addFiles:h}),Ye(K,{canAddFiles:()=>Q.value,canUpload:()=>d.value,uploadSizeLabel:()=>F.value,uploadProgressLabel:()=>p.value}),u({...e,upload:me,reset:Y,removeUploadedFiles:A,removeQueuedFiles:le,removeFile:ne,pickFiles:s,addFiles:h,canAddFiles:Q,canUpload:d,uploadSizeLabel:F,uploadProgressLabel:p}),()=>{const l=[v("div",{class:X.value},Le()),v("div",{class:"q-uploader__list scroll"},Ne()),H("uploader")];e.isBusy.value===!0&&l.push(v("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[v(ue)]));const _={ref:N,class:G.value};return Q.value===!0&&Object.assign(_,{onDragover:n,onDragleave:a}),v("div",_,l)}}const pt=()=>!0;function _t(t){const u={};return t.forEach(r=>{u[r]=pt}),u}const gt=_t(Ee),mt=({name:t,props:u,emits:r,injectPlugin:o})=>de({name:t,props:{...ft,...u},emits:Ze(r)===!0?{...gt,...r}:[...Ee,...r],setup(i,{expose:c}){return vt(o,c)}});function O(t){return typeof t=="function"?t:()=>t}const ht="QUploader",bt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>t=>t.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},yt=["factoryFailed","uploaded","failed","uploading"];function kt({props:t,emit:u,helpers:r}){const o=x([]),i=x([]),c=x(0),y=b(()=>({url:O(t.url),method:O(t.method),headers:O(t.headers),formFields:O(t.formFields),fieldName:O(t.fieldName),withCredentials:O(t.withCredentials),sendRaw:O(t.sendRaw),batch:O(t.batch)})),U=b(()=>c.value>0),B=b(()=>i.value.length!==0);let R;function z(){o.value.forEach(e=>{e.abort()}),i.value.length!==0&&(R=!0)}function P(){const e=r.queuedFiles.value.slice(0);r.queuedFiles.value=[],y.value.batch(e)?N(e):e.forEach(s=>{N([s])})}function N(e){if(c.value++,typeof t.factory!="function"){m(e,{});return}const s=t.factory(e);if(!s)u("factoryFailed",new Error("QUploader: factory() does not return properly"),e),c.value--;else if(typeof s.catch=="function"&&typeof s.then=="function"){i.value.push(s);const h=n=>{r.isAlive()===!0&&(i.value=i.value.filter(a=>a!==s),i.value.length===0&&(R=!1),r.queuedFiles.value=r.queuedFiles.value.concat(e),e.forEach(a=>{r.updateFileStatus(a,"failed")}),u("factoryFailed",n,e),c.value--)};s.then(n=>{R===!0?h(new Error("Aborted")):r.isAlive()===!0&&(i.value=i.value.filter(a=>a!==s),m(e,n))}).catch(h)}else m(e,s||{})}function m(e,s){const h=new FormData,n=new XMLHttpRequest,a=(d,G)=>s[d]!==void 0?O(s[d])(G):y.value[d](G),q=a("url",e);if(!q){console.error("q-uploader: invalid or no URL specified"),c.value--;return}const H=a("formFields",e);H!==void 0&&H.forEach(d=>{h.append(d.name,d.value)});let W=0,f=0,k=0,T=0,p;n.upload.addEventListener("progress",d=>{if(p===!0)return;const G=Math.min(T,d.loaded);r.uploadedSize.value+=G-k,k=G;let X=k-f;for(let Y=W;X>0&&Y<e.length;Y++){const A=e[Y];if(X>A.size)X-=A.size,W++,f+=A.size,r.updateFileStatus(A,"uploading",A.size);else{r.updateFileStatus(A,"uploading",X);return}}},!1),n.onreadystatechange=()=>{n.readyState<4||(n.status&&n.status<400?(r.uploadedFiles.value=r.uploadedFiles.value.concat(e),e.forEach(d=>{r.updateFileStatus(d,"uploaded")}),u("uploaded",{files:e,xhr:n})):(p=!0,r.uploadedSize.value-=k,r.queuedFiles.value=r.queuedFiles.value.concat(e),e.forEach(d=>{r.updateFileStatus(d,"failed")}),u("failed",{files:e,xhr:n})),c.value--,o.value=o.value.filter(d=>d!==n))},n.open(a("method",e),q),a("withCredentials",e)===!0&&(n.withCredentials=!0);const F=a("headers",e);F!==void 0&&F.forEach(d=>{n.setRequestHeader(d.name,d.value)});const Q=a("sendRaw",e);e.forEach(d=>{r.updateFileStatus(d,"uploading",0),Q!==!0&&h.append(a("fieldName",d),d,d.name),d.xhr=n,d.__abort=()=>{n.abort()},T+=d.size}),u("uploading",{files:e,xhr:n}),o.value.push(n),Q===!0?n.send(new Blob(e)):n.send(h)}return{isUploading:U,isBusy:B,abort:z,upload:P}}const Ft={name:ht,props:bt,emits:yt,injectPlugin:kt},xt=mt(Ft),St={class:"q-pa-md"},qt={class:"col"},zt={class:"q-uploader__title"},wt={class:"q-uploader__subtitle"},Ct={key:0},Ut={key:1,style:{background:"green",color:"white"}},Bt={key:2,style:{background:"red",color:"white"}},Et=["src","onClick"],Lt={__name:"UploadFile",setup(t){const{t:u}=ot(),r=Se(),o=Te(),i=lt(),c=x(null),y=b(()=>o.token),U=b(()=>i.langGet),B=x(r.screen.height*.85+"px"),R=x(r.screen.width*.825+"px"),z=x(r.dark.isActive?"#1D1D1D":"#1972D2");function P(s){JSON.parse(s.xhr.responseText).msg&&c.value.files.forEach(h=>{h.name===s.files[0].name&&(h.notice=JSON.parse(s.xhr.responseText).msg,h.__status="uploaded")}),JSON.parse(s.xhr.responseText).detail&&c.value.files.forEach(h=>{h.name===s.files[0].name&&(h.notice=JSON.parse(s.xhr.responseText).detail,h.__status="failed ")})}function N(s){console.error("Upload error:",s)}function m(s){if(s){var h=window.location.hostname;return h==="localhost"?"http://127.0.0.1:8008/core/user/upload/":"core/user/upload/"}}function e(s){r.dialog({message:`<img src="${s.__img.src}" style="max-height: ${B.value}; width: 100%">`,html:!0})}return fe(()=>r.dark.isActive,s=>{z.value=s?"#1D1D1D":"#1972D2"}),(s,h)=>(w(),te("div",St,[C(xt,{ref_key:"uploaderRef",ref:c,url:m,label:"Individual upload",headers:[{name:"token",value:y.value},{name:"language",value:U.value}],multiple:"",style:Fe({height:B.value,width:R.value,maxHeight:B.value}),onUploaded:P,onError:N},{header:g(n=>[ae("div",{class:"row no-wrap items-center q-pa-sm q-gutter-xs",style:Fe({backgroundColor:z.value})},[n.queuedFiles.length>0?(w(),$(M,{key:0,icon:"clear",onClick:n.removeQueuedFiles,round:"",dense:"",flat:""},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.clear")),1)]),_:1})]),_:2},1032,["onClick"])):V("",!0),n.uploadedFiles.length>0?(w(),$(M,{key:1,icon:"done_all",onClick:n.removeUploadedFiles,round:"",dense:"",flat:""},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.remove")),1)]),_:1})]),_:2},1032,["onClick"])):V("",!0),n.isUploading?(w(),$(ue,{key:2,class:"q-uploader__spinner"})):V("",!0),ae("div",qt,[ae("div",zt,S(D(u)("upload.choose")),1),ae("div",wt,S(n.uploadSizeLabel)+" / "+S(n.uploadProgressLabel),1)]),n.canAddFiles?(w(),$(M,{key:3,type:"a",icon:"add_box",onClick:n.pickFiles,round:"",dense:"",flat:""},{default:g(()=>[C(nt),C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.add")),1)]),_:1})]),_:2},1032,["onClick"])):V("",!0),n.canUpload?(w(),$(M,{key:4,icon:"cloud_upload",onClick:n.upload,round:"",dense:"",flat:""},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.server")),1)]),_:1})]),_:2},1032,["onClick"])):V("",!0),n.isUploading?(w(),$(M,{key:5,icon:"stop_circle",onClick:n.abort,round:"",dense:"",flat:""},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.abort")),1)]),_:1})]),_:2},1032,["onClick"])):V("",!0)],4)]),list:g(n=>[C($e,{separator:""},{default:g(()=>[(w(!0),te(et,null,tt(n.files,a=>(w(),$(Ae,{key:a.__key},{default:g(()=>[C(re,null,{default:g(()=>[C(se,{class:"full-width ellipsis"},{default:g(()=>[I(S(a.name),1)]),_:2},1024),C(se,{caption:""},{default:g(()=>[a.__status==="idle"?(w(),te("p",Ct,S(D(u)("upload.status"))+" "+S(D(u)("upload.idle")),1)):a.__status==="uploaded"?(w(),te("p",Ut,S(D(u)("upload.status"))+" "+S(a.notice),1)):(w(),te("p",Bt,S(D(u)("upload.status"))+" "+S(a.notice),1))]),_:2},1024),C(se,{caption:""},{default:g(()=>[I(S(a.__sizeLabel)+" / "+S(a.__progressLabel),1)]),_:2},1024)]),_:2},1024),a.__img?(w(),$(re,{key:0,thumbnail:"",class:"gt-xs"},{default:g(()=>[ae("img",{src:a.__img.src,onClick:q=>e(a)},null,8,Et)]),_:2},1024)):V("",!0),C(re,{top:"",side:""},{default:g(()=>[D(r).dark.isActive?(w(),$(M,{key:0,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",color:"white",onClick:q=>n.removeFile(a)},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.delete")),1)]),_:1})]),_:2},1032,["onClick"])):(w(),$(M,{key:1,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",color:"black",onClick:q=>n.removeFile(a)},{default:g(()=>[C(J,{class:"bg-indigo",offset:[10,10],"content-style":"font-size: 12px"},{default:g(()=>[I(S(D(u)("upload.delete")),1)]),_:1})]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["headers","style"])]))}},Qt={__name:"UploadCenter",setup(t){const u=Se(),r=x(!1),o=x(""),i=x(""),c=x("");return Re(()=>({title:o.value,meta:{description:{name:"description",content:i.value},keywords:{name:"keywords",content:c.value}}})),at(()=>{}),Ce(()=>{}),fe(()=>u.dark.isActive,y=>{r.value=y}),(y,U)=>(w(),$(De,{class:"flex flex-top"},{default:g(()=>[C(Lt)]),_:1}))}};export{Qt as default};
