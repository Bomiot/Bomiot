import{bt as K,e as P,bi as ct,dX as la,dY as Ge,t as W,aJ as J,cf as ua,aG as ca,dZ as va,aH as ha,ao as ot,di as fa,bU as ga,f as N,ce as pa,K as Me,d_ as dt,g as Ct,d$ as Oe,cM as da,e0 as ya,d4 as ma,au as Jt,bL as Z,_ as E,aP as tt,aQ as bt,aN as ba,e1 as Kt,bM as Sa,bN as xa,I as vt,ax as Aa,G as Dt,aB as Zt,bO as Ca,Z as Da,X as ht,aA as Ut,az as Mt,v as it,bC as Yt,aV as _a,bP as La,ap as Re,cP as St,a0 as Xt,cl as rt,e2 as Qt,k as Ne,p as Ia,e3 as te,b6 as st,aD as wa,aI as ze,e4 as ee,j as Q,ay as ae,e5 as re,aF as Lt,bq as ie,aw as xt,e6 as Ta,F as Pa,bb as ka,S as ne,e7 as Ea,cj as Ga,U as ft,a$ as $t,a_ as Ma,aY as q,e8 as Oa,cV as Ve,cX as Be,e9 as Ra,a as Na,B as oe,b as se,b5 as za,ea as Va,eb as It,av as At,ec as Ba,H as mt,c2 as Fa,ed as le,ee as ue,cN as Wa,ef as Ha,u as Za,eg as Ot,c3 as ce,eh as Ua,b0 as Xa,cc as $a,cO as ja,b8 as ve,cR as he,b4 as Fe,aR as gt,cQ as qa,dC as nt,d1 as Ja,dy as Ka,ei as Ya,aZ as Qa,ej as tr,ek as er,dk as fe,bW as ar,bn as rr,bm as ir,b7 as nr,cs as or,d7 as sr,aa as lr,r as ur}from"./install-C11Yr_7n.js";var cr=function(){function r(e){this.coordSysDims=[],this.axisMap=ct(),this.categoryAxisMap=ct(),this.coordSysName=e}return r}();function vr(r){var e=r.get("coordinateSystem"),t=new cr(e),a=hr[e];if(a)return a(r,t,t.axisMap,t.categoryAxisMap),t}var hr={cartesian2d:function(r,e,t,a){var i=r.getReferringComponents("xAxis",K).models[0],n=r.getReferringComponents("yAxis",K).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",n),et(i)&&(a.set("x",i),e.firstCategoryDimIndex=0),et(n)&&(a.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,a){var i=r.getReferringComponents("singleAxis",K).models[0];e.coordSysDims=["single"],t.set("single",i),et(i)&&(a.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,a){var i=r.getReferringComponents("polar",K).models[0],n=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),et(n)&&(a.set("radius",n),e.firstCategoryDimIndex=0),et(o)&&(a.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,a){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,a){var i=r.ecModel,n=i.getComponent("parallel",r.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();P(n.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),c=o[u];t.set(c,l),et(l)&&(a.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function et(r){return r.get("type")==="category"}function fr(r,e){var t=r.get("coordinateSystem"),a=ga.get(t),i;return e&&e.coordSysDims&&(i=N(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var u=s.get("type");o.type=pa(u)}return o})),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),i}function gr(r,e,t){var a,i;return t&&P(r,function(n,o){var s=n.coordDim,u=t.categoryAxisMap.get(s);u&&(a==null&&(a=o),n.ordinalMeta=u.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&a!=null&&(r[a].otherDims.itemName=0),a}function pr(r,e,t){t=t||{};var a=e.getSourceManager(),i,n=!1;r?(n=!0,i=la(r)):(i=a.getSource(),n=i.sourceFormat===Ge);var o=vr(e),s=fr(e,o),u=t.useEncodeDefaulter,l=W(u)?u:u?J(ua,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!n},v=ca(i,c),g=gr(v.dimensions,t.createInvertedIndices,o),h=n?null:a.getSharedDataStore(v),f=va(e,{schema:v,store:h}),p=new ha(v,e);p.setCalculationInfo(f);var m=g!=null&&dr(i)?function(d,y,b,C){return C===g?b:this.defaultDimValueGetter(d,y,b,C)}:null;return p.hasItemOption=!1,p.initData(n?i:h,null,m),p}function dr(r){if(r.sourceFormat===Ge){var e=yr(r.data||[]);return!ot(fa(e))}}function yr(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var mr=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),pt=Me();function We(r,e){var t=N(e,function(a){return r.scale.parse(a)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function br(r){var e=r.getLabelModel().get("customValues");if(e){var t=dt(r),a=r.scale.getExtent(),i=We(r,e),n=Ct(i,function(o){return o>=a[0]&&o<=a[1]});return{labels:N(n,function(o){var s={value:o};return{formattedLabel:t(s),rawLabel:r.scale.getLabel(s),tickValue:o}})}}return r.type==="category"?xr(r):Cr(r)}function Sr(r,e){var t=r.getTickModel().get("customValues");if(t){var a=r.scale.getExtent(),i=We(r,t);return{ticks:Ct(i,function(n){return n>=a[0]&&n<=a[1]})}}return r.type==="category"?Ar(r,e):{ticks:N(r.scale.getTicks(),function(n){return n.value})}}function xr(r){var e=r.getLabelModel(),t=He(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function He(r,e){var t=Ze(r,"labels"),a=Oe(e),i=Ue(t,a);if(i)return i;var n,o;return W(a)?n=je(r,a):(o=a==="auto"?Dr(r):a,n=$e(r,o)),Xe(t,a,{labels:n,labelCategoryInterval:o})}function Ar(r,e){var t=Ze(r,"ticks"),a=Oe(e),i=Ue(t,a);if(i)return i;var n,o;if((!e.get("show")||r.scale.isBlank())&&(n=[]),W(a))n=je(r,a,!0);else if(a==="auto"){var s=He(r,r.getLabelModel());o=s.labelCategoryInterval,n=N(s.labels,function(u){return u.tickValue})}else o=a,n=$e(r,o,!0);return Xe(t,a,{ticks:n,tickCategoryInterval:o})}function Cr(r){var e=r.scale.getTicks(),t=dt(r);return{labels:N(e,function(a,i){return{level:a.level,formattedLabel:t(a,i),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function Ze(r,e){return pt(r)[e]||(pt(r)[e]=[])}function Ue(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function Xe(r,e,t){return r.push({key:e,value:t}),t}function Dr(r){var e=pt(r).autoInterval;return e??(pt(r).autoInterval=r.calculateCategoryInterval())}function _r(r){var e=Lr(r),t=dt(r),a=(e.axisRotate-e.labelRotate)/180*Math.PI,i=r.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=n[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),c=Math.abs(l*Math.cos(a)),v=Math.abs(l*Math.sin(a)),g=0,h=0;u<=n[1];u+=s){var f=0,p=0,m=da(t({value:u}),e.font,"center","top");f=m.width*1.3,p=m.height*1.3,g=Math.max(g,f,7),h=Math.max(h,p,7)}var d=g/c,y=h/v;isNaN(d)&&(d=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(d,y))),C=pt(r.model),S=r.getExtent(),x=C.lastAutoInterval,A=C.lastTickCount;return x!=null&&A!=null&&Math.abs(x-b)<=1&&Math.abs(A-o)<=1&&x>b&&C.axisExtent0===S[0]&&C.axisExtent1===S[1]?b=x:(C.lastTickCount=o,C.lastAutoInterval=b,C.axisExtent0=S[0],C.axisExtent1=S[1]),b}function Lr(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function $e(r,e,t){var a=dt(r),i=r.scale,n=i.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=n[0],c=i.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var v=ya(r),g=o.get("showMinLabel")||v,h=o.get("showMaxLabel")||v;g&&l!==n[0]&&p(n[0]);for(var f=l;f<=n[1];f+=u)p(f);h&&f-u!==n[1]&&p(n[1]);function p(m){var d={value:m};s.push(t?m:{formattedLabel:a(d),rawLabel:i.getLabel(d),tickValue:m})}return s}function je(r,e,t){var a=r.scale,i=dt(r),n=[];return P(a.getTicks(),function(o){var s=a.getLabel(o),u=o.value;e(o.value,s)&&n.push(t?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),n}var ge=[0,1],Ir=function(){function r(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return r.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=a&&e<=i},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return ma(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},r.prototype.dataToCoord=function(e,t){var a=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(a=a.slice(),pe(a,i.count())),Jt(e,ge,a,t)},r.prototype.coordToData=function(e,t){var a=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(a=a.slice(),pe(a,i.count()));var n=Jt(e,a,ge,t);return this.scale.scale(n)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=Sr(this,t),i=a.ticks,n=N(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return wr(this,n,o,e.clamp),n},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),i=N(a,function(n){return N(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(){return br(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);a===0&&(a=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/a},r.prototype.calculateCategoryInterval=function(){return _r(this)},r}();function pe(r,e){var t=r[1]-r[0],a=e,i=t/a/2;r[0]+=i,r[1]-=i}function wr(r,e,t,a){var i=e.length;if(!r.onBand||t||!i)return;var n=r.getExtent(),o,s;if(i===1)e[0].coord=n[0],o=e[1]={coord:n[1],tickValue:e[0].tickValue};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;P(e,function(h){h.coord-=l/2});var c=r.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*s,tickValue:c[1]+1},e.push(o)}var v=n[0]>n[1];g(e[0].coord,n[0])&&(a?e[0].coord=n[0]:e.shift()),a&&g(n[0],e[0].coord)&&e.unshift({coord:n[0]}),g(n[1],o.coord)&&(a?o.coord=n[1]:e.pop()),a&&g(o.coord,n[1])&&e.push({coord:n[1]});function g(h,f){return h=Z(h),f=Z(f),v?h>f:h<f}}var Tr=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return pr(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new tt,i=bt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,u=t.itemHeight*.8,l=bt(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);a.add(l),l.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(ba);function qe(r,e){var t=r.mapDimensionsAll("defaultedLabel"),a=t.length;if(a===1){var i=Kt(r,e,t[0]);return i!=null?i+"":null}else if(a){for(var n=[],o=0;o<t.length;o++)n.push(Kt(r,e,t[o]));return n.join(" ")}}function Pr(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ot(e))return e+"";for(var a=[],i=0;i<t.length;i++){var n=r.getDimensionIndex(t[i]);n>=0&&a.push(e[n])}return a.join(" ")}var jt=function(r){E(e,r);function e(t,a,i,n){var o=r.call(this)||this;return o.updateData(t,a,i,n),o}return e.prototype._createSymbol=function(t,a,i,n,o){this.removeAll();var s=bt(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=kr,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Sa(this.childAt(0))},e.prototype.downplay=function(){xa(this.childAt(0))},e.prototype.setZ=function(t,a){var i=this.childAt(0);i.zlevel=t,i.z=a},e.prototype.setDraggable=function(t,a){var i=this.childAt(0);i.draggable=t,i.cursor=!a&&t?"move":i.cursor},e.prototype.updateData=function(t,a,i,n){this.silent=!1;var o=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,u=e.getSymbolSize(t,a),l=o!==this._symbolType,c=n&&n.disableAnimation;if(l){var v=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,t,a,u,v)}else{var g=this.childAt(0);g.silent=!1;var h={scaleX:u[0]/2,scaleY:u[1]/2};c?g.attr(h):vt(g,h,s,a),Aa(g)}if(this._updateCommon(t,a,u,i,n),l){var g=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,Dt(g,h,s,a)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,i,n,o){var s=this.childAt(0),u=t.hostModel,l,c,v,g,h,f,p,m,d;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,v=n.selectItemStyle,g=n.focus,h=n.blurScope,p=n.labelStatesModels,m=n.hoverScale,d=n.cursorStyle,f=n.emphasisDisabled),!n||t.hasItemOption){var y=n&&n.itemModel?n.itemModel:t.getItemModel(a),b=y.getModel("emphasis");l=b.getModel("itemStyle").getItemStyle(),v=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),g=b.get("focus"),h=b.get("blurScope"),f=b.get("disabled"),p=Zt(y),m=b.getShallow("scale"),d=y.getShallow("cursor")}var C=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(C||0)*Math.PI/180||0);var S=Ca(t.getItemVisual(a,"symbolOffset"),i);S&&(s.x=S[0],s.y=S[1]),d&&s.attr("cursor",d);var x=t.getItemVisual(a,"style"),A=x.fill;if(s instanceof Da){var _=s.style;s.useStyle(ht({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},x))}else s.__isEmptyBrush?s.useStyle(ht({},x)):s.useStyle(x),s.style.decal=null,s.setColor(A,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var w=t.getItemVisual(a,"liftZ"),D=this._z2;w!=null?D==null&&(this._z2=s.z2,s.z2+=w):D!=null&&(s.z2=D,this._z2=null);var I=o&&o.useNameLabel;Ut(s,p,{labelFetcher:u,labelDataIndex:a,defaultText:L,inheritColor:A,defaultOpacity:x.opacity});function L(k){return I?t.getName(k):qe(t,k)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=s.ensureState("emphasis");T.style=l,s.ensureState("select").style=v,s.ensureState("blur").style=c;var G=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;T.scaleX=this._sizeX*G,T.scaleY=this._sizeY*G,this.setSymbolScale(1),Mt(this,g,h,f)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,i){var n=this.childAt(0),o=it(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var u=n.getTextContent();u&&Yt(u,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Yt(n,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return _a(t.getItemVisual(a,"symbolSize"))},e}(tt);function kr(r,e){this.parent.drift(r,e)}function wt(r,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function de(r){return r!=null&&!Re(r)&&(r={isIgnore:r}),r||{}}function ye(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Zt(e),cursorStyle:e.get("cursor")}}var Er=function(){function r(e){this.group=new tt,this._SymbolCtor=e||jt}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=de(t);var a=this.group,i=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,u=ye(e),l={disableAnimation:s},c=t.getSymbolPoint||function(v){return e.getItemLayout(v)};n||a.removeAll(),e.diff(n).add(function(v){var g=c(v);if(wt(e,g,v,t)){var h=new o(e,v,u,l);h.setPosition(g),e.setItemGraphicEl(v,h),a.add(h)}}).update(function(v,g){var h=n.getItemGraphicEl(g),f=c(v);if(!wt(e,f,v,t)){a.remove(h);return}var p=e.getItemVisual(v,"symbol")||"circle",m=h&&h.getSymbolType&&h.getSymbolType();if(!h||m&&m!==p)a.remove(h),h=new o(e,v,u,l),h.setPosition(f);else{h.updateData(e,v,u,l);var d={x:f[0],y:f[1]};s?h.attr(d):vt(h,d,i)}a.add(h),e.setItemGraphicEl(v,h)}).remove(function(v){var g=n.getItemGraphicEl(v);g&&g.fadeOut(function(){a.remove(g)},i)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,i){var n=e._getSymbolPoint(i);a.setPosition(n),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ye(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=de(a);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(wt(t,o,n,a)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(e){La(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},a.hostModel)}):t.removeAll()},r}();function Je(r,e,t){var a=r.getBaseAxis(),i=r.getOtherAxis(a),n=Gr(i,t),o=a.dim,s=i.dim,u=e.mapDimension(s),l=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,v=N(r.dimensions,function(f){return e.mapDimension(f)}),g=!1,h=e.getCalculationInfo("stackResultDimension");return St(e,v[0])&&(g=!0,v[0]=h),St(e,v[1])&&(g=!0,v[1]=h),{dataDimsForPoint:v,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!g,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Gr(r,e){var t=0,a=r.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:Xt(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function Ke(r,e,t,a){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=r.valueStart);var n=r.baseDataOffset,o=[];return o[n]=t.get(r.baseDim,a),o[1-n]=i,e.dataToPoint(o)}function Mr(r,e){var t=[];return e.diff(r).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,i){t.push({cmd:"=",idx:i,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Or(r,e,t,a,i,n,o,s){for(var u=Mr(r,e),l=[],c=[],v=[],g=[],h=[],f=[],p=[],m=Je(i,e,o),d=r.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<u.length;b++){var C=u[b],S=!0,x=void 0,A=void 0;switch(C.cmd){case"=":x=C.idx*2,A=C.idx1*2;var _=d[x],w=d[x+1],D=y[A],I=y[A+1];(isNaN(_)||isNaN(w))&&(_=D,w=I),l.push(_,w),c.push(D,I),v.push(t[x],t[x+1]),g.push(a[A],a[A+1]),p.push(e.getRawIndex(C.idx1));break;case"+":var L=C.idx,T=m.dataDimsForPoint,G=i.dataToPoint([e.get(T[0],L),e.get(T[1],L)]);A=L*2,l.push(G[0],G[1]),c.push(y[A],y[A+1]);var k=Ke(m,i,e,L);v.push(k[0],k[1]),g.push(a[A],a[A+1]),p.push(e.getRawIndex(L));break;case"-":S=!1}S&&(h.push(C),f.push(f.length))}f.sort(function(z,_t){return p[z]-p[_t]});for(var R=l.length,F=rt(R),M=rt(R),O=rt(R),H=rt(R),U=[],b=0;b<f.length;b++){var lt=f[b],V=b*2,B=lt*2;F[V]=l[B],F[V+1]=l[B+1],M[V]=c[B],M[V+1]=c[B+1],O[V]=v[B],O[V+1]=v[B+1],H[V]=g[B],H[V+1]=g[B+1],U[b]=h[lt]}return{current:F,next:M,stackedOnCurrent:O,stackedOnNext:H,status:U}}var X=Math.min,$=Math.max;function Y(r,e){return isNaN(r)||isNaN(e)}function Rt(r,e,t,a,i,n,o,s,u){for(var l,c,v,g,h,f,p=t,m=0;m<a;m++){var d=e[p*2],y=e[p*2+1];if(p>=i||p<0)break;if(Y(d,y)){if(u){p+=n;continue}break}if(p===t)r[n>0?"moveTo":"lineTo"](d,y),v=d,g=y;else{var b=d-l,C=y-c;if(b*b+C*C<.5){p+=n;continue}if(o>0){for(var S=p+n,x=e[S*2],A=e[S*2+1];x===d&&A===y&&m<a;)m++,S+=n,p+=n,x=e[S*2],A=e[S*2+1],d=e[p*2],y=e[p*2+1],b=d-l,C=y-c;var _=m+1;if(u)for(;Y(x,A)&&_<a;)_++,S+=n,x=e[S*2],A=e[S*2+1];var w=.5,D=0,I=0,L=void 0,T=void 0;if(_>=a||Y(x,A))h=d,f=y;else{D=x-l,I=A-c;var G=d-l,k=x-d,R=y-c,F=A-y,M=void 0,O=void 0;if(s==="x"){M=Math.abs(G),O=Math.abs(k);var H=D>0?1:-1;h=d-H*M*o,f=y,L=d+H*O*o,T=y}else if(s==="y"){M=Math.abs(R),O=Math.abs(F);var U=I>0?1:-1;h=d,f=y-U*M*o,L=d,T=y+U*O*o}else M=Math.sqrt(G*G+R*R),O=Math.sqrt(k*k+F*F),w=O/(O+M),h=d-D*o*(1-w),f=y-I*o*(1-w),L=d+D*o*w,T=y+I*o*w,L=X(L,$(x,d)),T=X(T,$(A,y)),L=$(L,X(x,d)),T=$(T,X(A,y)),D=L-d,I=T-y,h=d-D*M/O,f=y-I*M/O,h=X(h,$(l,d)),f=X(f,$(c,y)),h=$(h,X(l,d)),f=$(f,X(c,y)),D=d-h,I=y-f,L=d+D*O/M,T=y+I*O/M}r.bezierCurveTo(v,g,h,f,d,y),v=L,g=T}else r.lineTo(d,y)}l=d,c=y,p+=n}return m}var Ye=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Rr=function(r){E(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ye},e.prototype.buildPath=function(t,a){var i=a.points,n=0,o=i.length/2;if(a.connectNulls){for(;o>0&&Y(i[o*2-2],i[o*2-1]);o--);for(;n<o&&Y(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=Rt(t,i,n,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=Ia.CMD,s,u,l=a==="x",c=[],v=0;v<n.length;){var g=n[v++],h=void 0,f=void 0,p=void 0,m=void 0,d=void 0,y=void 0,b=void 0;switch(g){case o.M:s=n[v++],u=n[v++];break;case o.L:if(h=n[v++],f=n[v++],b=l?(t-s)/(h-s):(t-u)/(f-u),b<=1&&b>=0){var C=l?(f-u)*b+u:(h-s)*b+s;return l?[t,C]:[C,t]}s=h,u=f;break;case o.C:h=n[v++],f=n[v++],p=n[v++],m=n[v++],d=n[v++],y=n[v++];var S=l?Qt(s,h,p,d,t,c):Qt(u,f,m,y,t,c);if(S>0)for(var x=0;x<S;x++){var A=c[x];if(A<=1&&A>=0){var C=l?te(u,f,m,y,A):te(s,h,p,d,A);return l?[t,C]:[C,t]}}s=d,u=y;break}}},e}(Ne),Nr=function(r){E(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ye),zr=function(r){E(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new Nr},e.prototype.buildPath=function(t,a){var i=a.points,n=a.stackedOnPoints,o=0,s=i.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;s>0&&Y(i[s*2-2],i[s*2-1]);s--);for(;o<s&&Y(i[o*2],i[o*2+1]);o++);}for(;o<s;){var l=Rt(t,i,o,s,s,1,a.smooth,u,a.connectNulls);Rt(t,n,o+l-1,l,s,-1,a.stackedOnSmooth,u,a.connectNulls),o+=l+1,t.closePath()}},e}(Ne);function Qe(r,e,t,a,i){var n=r.getArea(),o=n.x,s=n.y,u=n.width,l=n.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,u+=c,l+=c,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var v=new st({shape:{x:o,y:s,width:u,height:l}});if(e){var g=r.getBaseAxis(),h=g.isHorizontal(),f=g.inverse;h?(f&&(v.shape.x+=u),v.shape.width=0):(f||(v.shape.y+=l),v.shape.height=0);var p=W(i)?function(m){i(m,v)}:null;Dt(v,{shape:{width:u,height:l,x:o,y:s}},t,null,a,p)}return v}function ta(r,e,t){var a=r.getArea(),i=Z(a.r0,1),n=Z(a.r,1),o=new wa({shape:{cx:Z(r.cx,1),cy:Z(r.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(e){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=i,Dt(o,{shape:{endAngle:a.endAngle,r:n}},t)}return o}function ki(r,e,t,a,i){if(r){if(r.type==="polar")return ta(r,e,t);if(r.type==="cartesian2d")return Qe(r,e,t,a,i)}else return null;return null}function Vr(r,e){return r.type===e}function me(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function be(r){for(var e=1/0,t=1/0,a=-1/0,i=-1/0,n=0;n<r.length;){var o=r[n++],s=r[n++];isNaN(o)||(e=Math.min(o,e),a=Math.max(o,a)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[a,i]]}function Se(r,e){var t=be(r),a=t[0],i=t[1],n=be(e),o=n[0],s=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function xe(r){return Xt(r)?r:r?.5:0}function Br(r,e,t){if(!t.valueDim)return[];for(var a=e.count(),i=rt(a*2),n=0;n<a;n++){var o=Ke(t,r,e,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function j(r,e,t,a,i){var n=t.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,s=[],u=0,l=[],c=[],v=[],g=[];if(i){for(u=0;u<r.length;u+=2){var h=e||r;!isNaN(h[u])&&!isNaN(h[u+1])&&g.push(r[u],r[u+1])}r=g}for(u=0;u<r.length-2;u+=2)switch(v[0]=r[u+2],v[1]=r[u+3],c[0]=r[u],c[1]=r[u+1],s.push(c[0],c[1]),a){case"end":l[o]=v[o],l[1-o]=c[1-o],s.push(l[0],l[1]);break;case"middle":var f=(c[o]+v[o])/2,p=[];l[o]=p[o]=f,l[1-o]=c[1-o],p[1-o]=v[1-o],s.push(l[0],l[1]),s.push(p[0],p[1]);break;default:l[o]=c[o],l[1-o]=v[1-o],s.push(l[0],l[1])}return s.push(r[u++],r[u++]),s}function Fr(r,e){var t=[],a=r.length,i,n;function o(c,v,g){var h=c.coord,f=(g-h)/(v.coord-h),p=Ea(f,[c.color,v.color]);return{coord:g,color:p}}for(var s=0;s<a;s++){var u=r[s],l=u.coord;if(l<0)i=u;else if(l>e){n?t.push(o(n,u,e)):i&&t.push(o(i,u,0),o(i,u,e));break}else i&&(t.push(o(i,u,0)),i=null),t.push(u),n=u}return t}function Wr(r,e,t){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&e.type==="cartesian2d"){for(var i,n,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){n=a[o];break}}if(n){var u=e.getAxis(i),l=N(n.stops,function(b){return{coord:u.toGlobalCoord(u.dataToCoord(b.value)),color:b.color}}),c=l.length,v=n.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),v.reverse());var g=Fr(l,i==="x"?t.getWidth():t.getHeight()),h=g.length;if(!h&&c)return l[0].coord<0?v[1]?v[1]:l[c-1].color:v[0]?v[0]:l[0].color;var f=10,p=g[0].coord-f,m=g[h-1].coord+f,d=m-p;if(d<.001)return"transparent";P(g,function(b){b.offset=(b.coord-p)/d}),g.push({offset:h?g[h-1].offset:.5,color:v[1]||"transparent"}),g.unshift({offset:h?g[0].offset:.5,color:v[0]||"transparent"});var y=new ka(0,0,0,0,g,!0);return y[i]=p,y[i+"2"]=m,y}}}function Hr(r,e,t){var a=r.get("showAllSymbol"),i=a==="auto";if(!(a&&!i)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(i&&Zr(n,e))){var o=e.mapDimension(n.dim),s={};return P(n.getViewLabels(),function(u){var l=n.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function Zr(r,e){var t=r.getExtent(),a=Math.abs(t[1]-t[0])/r.scale.count();isNaN(a)&&(a=0);for(var i=e.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(jt.getSymbolSize(e,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Ur(r,e){return isNaN(r)||isNaN(e)}function Xr(r){for(var e=r.length/2;e>0&&Ur(r[e*2-2],r[e*2-1]);e--);return e-1}function Ae(r,e){return[r[e*2],r[e*2+1]]}function $r(r,e,t){for(var a=r.length/2,i=t==="x"?0:1,n,o,s=0,u=-1,l=0;l<a;l++)if(o=r[l*2+i],!(isNaN(o)||isNaN(r[l*2+1-i]))){if(l===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){u=l;break}s=l,n=o}return{range:[s,u],t:(e-n)/(o-n)}}function ea(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<ne.length;e++)if(r.get([ne[e],"endLabel","show"]))return!0;return!1}function Tt(r,e,t,a){if(Vr(e,"cartesian2d")){var i=a.getModel("endLabel"),n=i.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},u=ea(a)?function(h,f){r._endLabelOnDuring(h,f,o,s,n,i,e)}:null,l=e.getBaseAxis().isHorizontal(),c=Qe(e,t,a,function(){var h=r._endLabel;h&&t&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},u);if(!a.get("clip",!0)){var v=c.shape,g=Math.max(v.width,v.height);l?(v.y-=g,v.height+=g*2):(v.x-=g,v.width+=g*2)}return u&&u(1,c),c}else return ta(e,t,a)}function jr(r,e){var t=e.getBaseAxis(),a=t.isHorizontal(),i=t.inverse,n=a?i?"right":"left":"center",o=a?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||n,verticalAlign:r.get("verticalAlign")||o}}}var qr=function(r){E(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new tt,a=new Er;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t,this._changePolyState=ze(this._changePolyState,this)},e.prototype.render=function(t,a,i){var n=t.coordinateSystem,o=this.group,s=t.getData(),u=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=s.getLayout("points")||[],v=n.type==="polar",g=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,m=this._lineGroup,d=!a.ssr&&t.get("animation"),y=!l.isEmpty(),b=l.get("origin"),C=Je(n,s,b),S=y&&Br(n,s,C),x=t.get("showSymbol"),A=t.get("connectNulls"),_=x&&!v&&Hr(t,s,n),w=this._data;w&&w.eachItemGraphicEl(function(z,_t){z.__temp&&(o.remove(z),w.setItemGraphicEl(_t,null))}),x||h.remove(),o.add(m);var D=v?!1:t.get("step"),I;n&&n.getArea&&t.get("clip",!0)&&(I=n.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var L=Wr(s,n,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(f&&g.type===n.type&&D===this._step))x&&h.updateData(s,{isIgnore:_,clipShape:I,disableAnimation:!0,getSymbolPoint:function(z){return[c[z*2],c[z*2+1]]}}),d&&this._initSymbolLabelAnimation(s,n,I),D&&(S&&(S=j(S,c,n,D,A)),c=j(c,null,n,D,A)),f=this._newPolyline(c),y?p=this._newPolygon(c,S):p&&(m.remove(p),p=this._polygon=null),v||this._initOrUpdateEndLabel(t,n,ee(L)),m.setClipPath(Tt(this,n,!0,t));else{y&&!p?p=this._newPolygon(c,S):p&&!y&&(m.remove(p),p=this._polygon=null),v||this._initOrUpdateEndLabel(t,n,ee(L));var T=m.getClipPath();if(T){var G=Tt(this,n,!1,t);Dt(T,{shape:G.shape},t)}else m.setClipPath(Tt(this,n,!0,t));x&&h.updateData(s,{isIgnore:_,clipShape:I,disableAnimation:!0,getSymbolPoint:function(z){return[c[z*2],c[z*2+1]]}}),(!me(this._stackedOnPoints,S)||!me(this._points,c))&&(d?this._doUpdateAnimation(s,S,n,i,D,b,A):(D&&(S&&(S=j(S,c,n,D,A)),c=j(c,null,n,D,A)),f.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:S})))}var k=t.getModel("emphasis"),R=k.get("focus"),F=k.get("blurScope"),M=k.get("disabled");if(f.useStyle(Q(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),ae(f,t,"lineStyle"),f.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var O=f.getState("emphasis").style;O.lineWidth=+f.style.lineWidth+1}it(f).seriesIndex=t.seriesIndex,Mt(f,R,F,M);var H=xe(t.get("smooth")),U=t.get("smoothMonotone");if(f.setShape({smooth:H,smoothMonotone:U,connectNulls:A}),p){var lt=s.getCalculationInfo("stackedOnSeries"),V=0;p.useStyle(Q(l.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),lt&&(V=xe(lt.get("smooth"))),p.setShape({smooth:H,stackedOnSmooth:V,smoothMonotone:U,connectNulls:A}),ae(p,t,"areaStyle"),it(p).seriesIndex=t.seriesIndex,Mt(p,R,F,M)}var B=this._changePolyState;s.eachItemGraphicEl(function(z){z&&(z.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=s,this._coordSys=n,this._stackedOnPoints=S,this._points=c,this._step=D,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,a){it(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,i,n){var o=t.getData(),s=re(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var c=u[s*2],v=u[s*2+1];if(isNaN(c)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,v))return;var g=t.get("zlevel")||0,h=t.get("z")||0;l=new jt(o,s),l.x=c,l.y=v,l.setZ(g,h);var f=l.getSymbolPath().getTextContent();f&&(f.zlevel=g,f.z=h,f.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Lt.prototype.highlight.call(this,t,a,i,n)},e.prototype.downplay=function(t,a,i,n){var o=t.getData(),s=re(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Lt.prototype.downplay.call(this,t,a,i,n)},e.prototype._changePolyState=function(t){var a=this._polygon;ie(this._polyline,t),a&&ie(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Rr({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new zr({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,a,i){var n,o,s=a.getBaseAxis(),u=s.inverse;a.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):a.type==="polar"&&(n=s.dim==="angle",o=!0);var l=t.hostModel,c=l.get("animationDuration");W(c)&&(c=c(null));var v=l.get("animationDelay")||0,g=W(v)?v(null):v;t.eachItemGraphicEl(function(h,f){var p=h;if(p){var m=[h.x,h.y],d=void 0,y=void 0,b=void 0;if(i)if(o){var C=i,S=a.pointToCoord(m);n?(d=C.startAngle,y=C.endAngle,b=-S[1]/180*Math.PI):(d=C.r0,y=C.r,b=S[0])}else{var x=i;n?(d=x.x,y=x.x+x.width,b=h.x):(d=x.y+x.height,y=x.y,b=h.y)}var A=y===d?0:(b-d)/(y-d);u&&(A=1-A);var _=W(v)?v(f):c*A+g,w=p.getSymbolPath(),D=w.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),D&&D.animateFrom({style:{opacity:0}},{duration:300,delay:_}),w.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,i){var n=t.getModel("endLabel");if(ea(t)){var o=t.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new xt({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Xr(u);c>=0&&(Ut(s,Zt(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(v,g,h){return h!=null?Pr(o,h):qe(o,v)},enableTextSetter:!0},jr(n,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,i,n,o,s,u){var l=this._endLabel,c=this._polyline;if(l){t<1&&n.originalX==null&&(n.originalX=l.x,n.originalY=l.y);var v=i.getLayout("points"),g=i.hostModel,h=g.get("connectNulls"),f=s.get("precision"),p=s.get("distance")||0,m=u.getBaseAxis(),d=m.isHorizontal(),y=m.inverse,b=a.shape,C=y?d?b.x:b.y+b.height:d?b.x+b.width:b.y,S=(d?p:0)*(y?-1:1),x=(d?0:-p)*(y?-1:1),A=d?"x":"y",_=$r(v,C,A),w=_.range,D=w[1]-w[0],I=void 0;if(D>=1){if(D>1&&!h){var L=Ae(v,w[0]);l.attr({x:L[0]+S,y:L[1]+x}),o&&(I=g.getRawValue(w[0]))}else{var L=c.getPointOn(C,A);L&&l.attr({x:L[0]+S,y:L[1]+x});var T=g.getRawValue(w[0]),G=g.getRawValue(w[1]);o&&(I=Ta(i,f,T,G,_.t))}n.lastFrameIndex=w[0]}else{var k=t===1||n.lastFrameIndex>0?w[0]:0,L=Ae(v,k);o&&(I=g.getRawValue(k)),l.attr({x:L[0]+S,y:L[1]+x})}if(o){var R=Pa(l);typeof R.setLabelText=="function"&&R.setLabelText(I)}}},e.prototype._doUpdateAnimation=function(t,a,i,n,o,s,u){var l=this._polyline,c=this._polygon,v=t.hostModel,g=Or(this._data,t,this._stackedOnPoints,a,this._coordSys,i,this._valueOrigin),h=g.current,f=g.stackedOnCurrent,p=g.next,m=g.stackedOnNext;if(o&&(f=j(g.stackedOnCurrent,g.current,i,o,u),h=j(g.current,null,i,o,u),m=j(g.stackedOnNext,g.next,i,o,u),p=j(g.next,null,i,o,u)),Se(h,p)>3e3||c&&Se(f,m)>3e3){l.stopAnimation(),l.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:m}));return}l.shape.__points=g.current,l.shape.points=h;var d={shape:{points:p}};g.current!==h&&(d.shape.__points=g.next),l.stopAnimation(),vt(l,d,v),c&&(c.setShape({points:h,stackedOnPoints:f}),c.stopAnimation(),vt(c,{shape:{stackedOnPoints:m}},v),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var y=[],b=g.status,C=0;C<b.length;C++){var S=b[C].cmd;if(S==="="){var x=t.getItemGraphicEl(b[C].idx1);x&&y.push({el:x,ptIdx:C})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var A=l.shape.__points,_=0;_<y.length;_++){var w=y[_].el,D=y[_].ptIdx*2;w.x=A[D],w.y=A[D+1],w.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(a.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Lt);function Jr(r,e){return{seriesType:r,plan:Ga(),reset:function(t){var a=t.getData(),i=t.coordinateSystem,n=t.pipelineContext,o=e||n.large;if(i){var s=N(i.dimensions,function(h){return a.mapDimension(h)}).slice(0,2),u=s.length,l=a.getCalculationInfo("stackResultDimension");St(a,s[0])&&(s[0]=l),St(a,s[1])&&(s[1]=l);var c=a.getStore(),v=a.getDimensionIndex(s[0]),g=a.getDimensionIndex(s[1]);return u&&{progress:function(h,f){for(var p=h.end-h.start,m=o&&rt(p*u),d=[],y=[],b=h.start,C=0;b<h.end;b++){var S=void 0;if(u===1){var x=c.get(v,b);S=i.dataToPoint(x,null,y)}else d[0]=c.get(v,b),d[1]=c.get(g,b),S=i.dataToPoint(d,null,y);o?(m[C++]=S[0],m[C++]=S[1]):f.setItemLayout(b,S.slice())}o&&f.setLayout("points",m)}}}}}}var Kr={average:function(r){for(var e=0,t=0,a=0;a<r.length;a++)isNaN(r[a])||(e+=r[a],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},Yr=function(r){return Math.round(r.length/2)};function Qr(r){return{seriesType:r,reset:function(e,t,a){var i=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),v=a.getDevicePixelRatio(),g=Math.abs(c[1]-c[0])*(v||1),h=Math.round(s/g);if(isFinite(h)&&h>1){n==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/h)):n==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(l.dim),1/h));var f=void 0;ft(n)?f=Kr[n]:W(n)&&(f=n),f&&e.setData(i.downSample(i.mapDimension(l.dim),1/h,f,Yr))}}}}}function Ei(r){r.registerChartView(qr),r.registerSeriesModel(Tr),r.registerLayout(Jr("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Qr("line"))}var ti=function(r){E(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}($t),Nt=function(r){E(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",K).models[0]},e.type="cartesian2dAxis",e}($t);Ma(Nt,mr);var aa={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ei=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},aa),qt=q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},aa),ai=q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},qt),ri=Q({logBase:10},qt);const ii={category:ei,value:qt,time:ai,log:ri};var ni={value:1,category:1,time:1,log:1};function Ce(r,e,t,a){P(ni,function(i,n){var o=q(q({},ii[n],!0),a,!0),s=function(u){E(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+n,c}return l.prototype.mergeDefaultAndTheme=function(c,v){var g=Oa(this),h=g?Ve(c):{},f=v.getTheme();q(c,f.get(n+"Axis")),q(c,this.getDefaultOption()),c.type=De(c),g&&Be(c,h,g)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Ra.createByAxisModel(this))},l.prototype.getCategories=function(c){var v=this.option;if(v.type==="category")return c?v.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+n,l.defaultOption=o,l}(t);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(e+"Axis",De)}function De(r){return r.type||(r.data?"category":"value")}var oi=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return N(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ct(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}(),zt=["x","y"];function _e(r){return r.type==="interval"||r.type==="time"}var si=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=zt,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!_e(t)||!_e(a))){var i=t.getExtent(),n=a.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),u=i[1]-i[0],l=n[1]-n[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,v=(s[1]-o[1])/l,g=o[0]-i[0]*c,h=o[1]-n[0]*v,f=this._transform=[c,0,0,v,g,h];this._invTransform=Na([],f)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var i=this.dataToPoint(t),n=this.dataToPoint(a),o=this.getArea(),s=new oe(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return se(i,t,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,a)),i[1]=u.toGlobalCoord(u.dataToCoord(o,a)),i},e.prototype.clampData=function(t,a){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),u=i.parse(t[0]),l=n.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var i=[];if(this._invTransform)return se(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),a),i[1]=o.coordToData(o.toLocalCoord(t[1]),a),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var a=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(a[0],a[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(a[0],a[1])-n+t,u=Math.max(i[0],i[1])-o+t;return new oe(n,o,s,u)},e}(oi),li=function(r){E(e,r);function e(t,a,i,n,o){var s=r.call(this,t,a,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ir),Pt=Math.log;function ui(r,e,t){var a=za.prototype,i=a.getTicks.call(t),n=a.getTicks.call(t,!0),o=i.length-1,s=a.getInterval.call(t),u=Va(r,e),l=u.extent,c=u.fixMin,v=u.fixMax;if(r.type==="log"){var g=Pt(r.base);l=[Pt(l[0])/g,Pt(l[1])/g]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:v});var h=a.getExtent.call(r);c&&(l[0]=h[0]),v&&(l[1]=h[1]);var f=a.getInterval.call(r),p=l[0],m=l[1];if(c&&v)f=(m-p)/o;else if(c)for(m=l[0]+f*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)f=It(f),m=l[0]+f*o;else if(v)for(p=l[1]-f*o;p>l[0]&&isFinite(p)&&isFinite(l[0]);)f=It(f),p=l[1]-f*o;else{var d=r.getTicks().length-1;d>o&&(f=It(f));var y=f*o;m=Math.ceil(l[1]/f)*f,p=Z(m-y),p<0&&l[0]>=0?(p=0,m=Z(y)):m>0&&l[1]<=0&&(m=0,p=-Z(y))}var b=(i[0].value-n[0].value)/s,C=(i[o].value-n[o].value)/s;a.setExtent.call(r,p+f*b,m+f*C),a.setInterval.call(r,f),(b||C)&&a.setNiceExtent.call(r,p+f,m-f)}var ci=function(){function r(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=zt,this._initCartesian(e,t,a),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=Za(o),l=u.length;if(l){for(var c=[],v=l-1;v>=0;v--){var g=+u[v],h=o[g],f=h.model,p=h.scale;Ot(p)&&f.get("alignTicks")&&f.get("interval")==null?c.push(h):(ce(p,f),Ot(p)&&(s=h))}c.length&&(s||(s=c.pop(),ce(s.scale,s.model)),P(c,function(m){ui(m.scale,m.model,s.scale)}))}}i(a.x),i(a.y);var n={};P(a.x,function(o){Le(a,"y",o,n)}),P(a.y,function(o){Le(a,"x",o,n)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,a){var i=e.getBoxLayoutParams(),n=!a&&e.get("containLabel"),o=At(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;u(),n&&(P(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=Ba(l);if(c){var v=l.isHorizontal()?"height":"width",g=l.model.get(["axisLabel","margin"]);o[v]-=c[v]+g,l.position==="top"?o.y+=c.height+g:l.position==="left"&&(o.x+=c.width+g)}}}),u()),P(this._coordsList,function(l){l.calcAffineTransform()});function u(){P(s,function(l){var c=l.isHorizontal(),v=c?[0,o.width]:[0,o.height],g=l.inverse?1:0;l.setExtent(v[g],v[1-g]),vi(l,c?o.x:o.y)})}},r.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}Re(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===e||n[i].getAxis("y").index===t)return n[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",K).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",K).models[0],n=e.gridModel,o=this._coordsList,s,u;if(t)s=t.coordinateSystem,mt(o,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)u=this.getAxis("x",a.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(n){var l=n.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,a){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,P(s.x,function(c,v){P(s.y,function(g,h){var f="x"+v+"y"+h,p=new si(f);p.master=i,p.model=e,i._coordsMap[f]=p,i._coordsList.push(p),p.addAxis(c),p.addAxis(g)})});function l(c){return function(v,g){if(kt(v,e)){var h=v.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var f=new li(c,Fa(v),[0,0],v.get("type"),h),p=f.type==="category";f.onBand=p&&v.get("boundaryGap"),f.inverse=v.get("inverse"),v.axis=f,f.model=v,f.grid=n,f.index=g,n._axesList.push(f),s[c][g]=f,u[c]++}}}},r.prototype._updateScale=function(e,t){P(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),e.eachSeries(function(i){if(le(i)){var n=ue(i),o=n.xAxisModel,s=n.yAxisModel;if(!kt(o,t)||!kt(s,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),c=u.getAxis("x"),v=u.getAxis("y");a(l,c),a(l,v)}},this);function a(i,n){P(Wa(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(e){var t=[],a=[];return P(this.getCartesians(),function(i){var n=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(n);mt(t,n)<0&&t.push(n),mt(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},r.create=function(e,t){var a=[];return e.eachComponent("grid",function(i,n){var o=new r(i,e,t);o.name="grid_"+n,o.resize(i,t,!0),i.coordinateSystem=o,a.push(o)}),e.eachSeries(function(i){if(le(i)){var n=ue(i),o=n.xAxisModel,s=n.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=zt,r}();function kt(r,e){return r.getCoordSysModel()===e}function Le(r,e,t,a){t.getAxesOnZeroOf=function(){return n?[n]:[]};var i=r[e],n,o=t.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)Ie(i[u])&&(n=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&Ie(i[l])&&!a[c(i[l])]){n=i[l];break}n&&(a[c(n)]=!0);function c(v){return v.dim+"_"+v.index}}function Ie(r){return r&&r.type!=="category"&&r.type!=="time"&&Ha(r)}function vi(r,e){var t=r.getExtent(),a=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return a-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return a-i+e}}var Vt=Me();function hi(r,e,t,a){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var c=s.length,v=Vt(r).splitAreaColors,g=ct(),h=0;if(v)for(var f=0;f<l.length;f++){var p=v.get(l[f].tickValue);if(p!=null){h=(p+(c-1)*f)%c;break}}var m=i.toGlobalCoord(l[0].coord),d=o.getAreaStyle();s=ot(s)?s:[s];for(var f=1;f<l.length;f++){var y=i.toGlobalCoord(l[f].coord),b=void 0,C=void 0,S=void 0,x=void 0;i.isHorizontal()?(b=m,C=u.y,S=y-b,x=u.height,m=b+S):(b=u.x,C=m,S=u.width,x=y-C,m=C+x);var A=l[f-1].tickValue;A!=null&&g.set(A,h),e.add(new st({anid:A!=null?"area_"+A:null,shape:{x:b,y:C,width:S,height:x},style:Q({fill:s[h]},d),autoBatch:!0,silent:!0})),h=(h+1)%c}Vt(r).splitAreaColors=g}}}function fi(r){Vt(r).splitAreaColors=null}var gi=["axisLine","axisTickLabel","axisName"],pi=["splitArea","splitLine","minorSplitLine"],ra=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new tt,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),u=Ua(s,t),l=new Xa(t,ht({handleAutoShown:function(v){for(var g=s.coordinateSystem.getCartesians(),h=0;h<g.length;h++)if(Ot(g[h].getOtherAxis(t.axis).scale))return!0;return!1}},u));P(gi,l.add,l),this._axisGroup.add(l.getGroup()),P(pi,function(v){t.get([v,"show"])&&di[v](this,this._axisGroup,t,s)},this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;c||$a(o,this._axisGroup,t),r.prototype.render.call(this,t,a,i,n)}},e.prototype.remove=function(){fi(this)},e.type="cartesianAxis",e}(ja),di={splitLine:function(r,e,t,a){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),u=n.get("showMinLine")!==!1,l=n.get("showMaxLine")!==!1;s=ot(s)?s:[s];for(var c=a.coordinateSystem.getRect(),v=i.isHorizontal(),g=0,h=i.getTicksCoords({tickModel:n}),f=[],p=[],m=o.getLineStyle(),d=0;d<h.length;d++){var y=i.toGlobalCoord(h[d].coord);if(!(d===0&&!u||d===h.length-1&&!l)){var b=h[d].tickValue;v?(f[0]=y,f[1]=c.y,p[0]=y,p[1]=c.y+c.height):(f[0]=c.x,f[1]=y,p[0]=c.x+c.width,p[1]=y);var C=g++%s.length,S=new ve({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:Q({stroke:s[C]},m),silent:!0});he(S.shape,m.lineWidth),e.add(S)}}}},minorSplitLine:function(r,e,t,a){var i=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],v=[],g=o.getLineStyle(),h=0;h<l.length;h++)for(var f=0;f<l[h].length;f++){var p=i.toGlobalCoord(l[h][f].coord);u?(c[0]=p,c[1]=s.y,v[0]=p,v[1]=s.y+s.height):(c[0]=s.x,c[1]=p,v[0]=s.x+s.width,v[1]=p);var m=new ve({anid:"minor_line_"+l[h][f].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:g,silent:!0});he(m.shape,g.lineWidth),e.add(m)}},splitArea:function(r,e,t,a){hi(r,e,t,a)}},ia=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(ra),yi=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=ia.type,t}return e.type="yAxis",e}(ra),mi=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new st({shape:t.coordinateSystem.getRect(),style:Q({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Fe),we={offset:0};function bi(r){r.registerComponentView(mi),r.registerComponentModel(ti),r.registerCoordinateSystem("cartesian2d",ci),Ce(r,"x",Nt,we),Ce(r,"y",Nt,we),r.registerComponentView(ia),r.registerComponentView(yi),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Gi(r){gt(bi),gt(qa)}function Mi(r,e,t){var a=e.getBoxLayoutParams(),i=e.get("padding"),n={width:t.getWidth(),height:t.getHeight()},o=At(a,n,i);nt(e.get("orient"),r,e.get("itemGap"),o.width,o.height),Ja(r,a,n,i)}function Si(r,e){var t=Ka(e.get("padding")),a=e.getItemStyle(["color","opacity"]);return a.fill=e.get("backgroundColor"),r=new st({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var xi=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},Bt=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,a,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),this._updateSelector(t)},e.prototype._updateSelector=function(t){var a=t.selector,i=this.ecModel;a===!0&&(a=t.selector=["all","inverse"]),ot(a)&&P(a,function(n,o){ft(n)&&(n={type:n}),a[o]=q(n,xi(i,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var a=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),a=!0;break}}!a&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var a=[],i=[];t.eachRawSeries(function(u){var l=u.name;i.push(l);var c;if(u.legendVisualProvider){var v=u.legendVisualProvider,g=v.getAllNames();t.isSeriesFiltered(u)||(i=i.concat(g)),g.length?a=a.concat(g):c=!0}else c=!0;c&&Ya(u)&&a.push(u.name)}),this._availableNames=i;var n=this.get("data")||a,o=ct(),s=N(n,function(u){return(ft(u)||Xt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new Qa(u,this,this.ecModel))},this);this._data=Ct(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var a=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;P(n,function(o){a[o.get("name")]=!1})}a[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var a=this.option.selected;a.hasOwnProperty(t)||(a[t]=!0),this[a[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,a=this.option.selected;P(t,function(i){a[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,a=this.option.selected;P(t,function(i){var n=i.get("name",!0);a.hasOwnProperty(n)||(a[n]=!0),a[n]=!a[n]})},e.prototype.isSelected=function(t){var a=this.option.selected;return!(a.hasOwnProperty(t)&&!a[t])&&mt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}($t),at=J,Ft=P,yt=tt,na=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new yt),this.group.add(this._selectorGroup=new yt),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,a,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var u=t.get("selector",!0),l=t.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,t,a,i,u,s,l);var c=t.getBoxLayoutParams(),v={width:i.getWidth(),height:i.getHeight()},g=t.get("padding"),h=At(c,v,g),f=this.layoutInner(t,o,h,n,u,l),p=At(Q({width:f.width,height:f.height},c),v,g);this.group.x=p.x-f.x,this.group.y=p.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Si(f,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,a,i,n,o,s,u){var l=this.getContentGroup(),c=ct(),v=a.get("selectedMode"),g=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&g.push(h.id)}),Ft(a.getData(),function(h,f){var p=h.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new yt;m.newline=!0,l.add(m);return}var d=i.getSeriesByName(p)[0];if(!c.get(p))if(d){var y=d.getData(),b=y.getVisual("legendLineStyle")||{},C=y.getVisual("legendIcon"),S=y.getVisual("style"),x=this._createItem(d,p,f,h,a,t,b,S,C,v,n);x.on("click",at(Te,p,null,n,g)).on("mouseover",at(Wt,d.name,null,n,g)).on("mouseout",at(Ht,d.name,null,n,g)),i.ssr&&x.eachChild(function(A){var _=it(A);_.seriesIndex=d.seriesIndex,_.dataIndex=f,_.ssrType="legend"}),c.set(p,!0)}else i.eachRawSeries(function(A){if(!c.get(p)&&A.legendVisualProvider){var _=A.legendVisualProvider;if(!_.containName(p))return;var w=_.indexOfName(p),D=_.getItemVisual(w,"style"),I=_.getItemVisual(w,"legendIcon"),L=tr(D.fill);L&&L[3]===0&&(L[3]=.2,D=ht(ht({},D),{fill:er(L,"rgba")}));var T=this._createItem(A,p,f,h,a,t,{},D,I,v,n);T.on("click",at(Te,null,p,n,g)).on("mouseover",at(Wt,null,p,n,g)).on("mouseout",at(Ht,null,p,n,g)),i.ssr&&T.eachChild(function(G){var k=it(G);k.seriesIndex=A.seriesIndex,k.dataIndex=f,k.ssrType="legend"}),c.set(p,!0)}},this)},this),o&&this._createSelector(o,a,n,s,u)},e.prototype._createSelector=function(t,a,i,n,o){var s=this.getSelectorGroup();Ft(t,function(l){var c=l.type,v=new xt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:a.id})}});s.add(v);var g=a.getModel("selectorLabel"),h=a.getModel(["emphasis","selectorLabel"]);Ut(v,{normal:g,emphasis:h},{defaultText:l.title}),fe(v)})},e.prototype._createItem=function(t,a,i,n,o,s,u,l,c,v,g){var h=t.visualDrawType,f=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(a),d=n.get("symbolRotate"),y=n.get("symbolKeepAspect"),b=n.get("icon");c=b||c||"roundRect";var C=Ai(c,n,u,l,h,m,g),S=new yt,x=n.getModel("textStyle");if(W(t.getLegendIcon)&&(!b||b==="inherit"))S.add(t.getLegendIcon({itemWidth:f,itemHeight:p,icon:c,iconRotate:d,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:y}));else{var A=b==="inherit"&&t.getData().getVisual("symbol")?d==="inherit"?t.getData().getVisual("symbolRotate"):d:0;S.add(Ci({itemWidth:f,itemHeight:p,icon:c,iconRotate:A,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:y}))}var _=s==="left"?f+5:-5,w=s,D=o.get("formatter"),I=a;ft(D)&&D?I=D.replace("{name}",a??""):W(D)&&(I=D(a));var L=m?x.getTextColor():n.get("inactiveColor");S.add(new xt({style:ar(x,{text:I,x:_,y:p/2,fill:L,align:w,verticalAlign:"middle"},{inheritColor:L})}));var T=new st({shape:S.getBoundingRect(),style:{fill:"transparent"}}),G=n.getModel("tooltip");return G.get("show")&&rr({el:T,componentModel:o,itemName:a,itemTooltipOption:G.option}),S.add(T),S.eachChild(function(k){k.silent=!0}),T.silent=!v,this.getContentGroup().add(S),fe(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(t,a,i,n,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();nt(t.get("orient"),u,t.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),v=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),o){nt("horizontal",l,t.get("selectorItemGap",!0));var g=l.getBoundingRect(),h=[-g.x,-g.y],f=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=p===0?"width":"height",d=p===0?"height":"width",y=p===0?"y":"x";s==="end"?h[p]+=c[m]+f:v[p]+=g[m]+f,h[1-p]+=c[d]/2-g[d]/2,l.x=h[0],l.y=h[1],u.x=v[0],u.y=v[1];var b={x:0,y:0};return b[m]=c[m]+f+g[m],b[d]=Math.max(c[d],g[d]),b[y]=Math.min(0,g[y]+h[1-p]),b}else return u.x=v[0],u.y=v[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Fe);function Ai(r,e,t,a,i,n,o){function s(m,d){m.lineWidth==="auto"&&(m.lineWidth=d.lineWidth>0?2:0),Ft(m,function(y,b){m[b]==="inherit"&&(m[b]=d[b])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",v=u.getShallow("decal");l.decal=!v||v==="inherit"?a.decal:ir(v,o),l.fill==="inherit"&&(l.fill=a[i]),l.stroke==="inherit"&&(l.stroke=a[c]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?a:t).opacity),s(l,a);var g=e.getModel("lineStyle"),h=g.getLineStyle();if(s(h,t),l.fill==="auto"&&(l.fill=a.fill),l.stroke==="auto"&&(l.stroke=a.fill),h.stroke==="auto"&&(h.stroke=a.fill),!n){var f=e.get("inactiveBorderWidth"),p=l[c];l.lineWidth=f==="auto"?a.lineWidth>0&&p?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),h.stroke=g.get("inactiveColor"),h.lineWidth=g.get("inactiveWidth")}return{itemStyle:l,lineStyle:h}}function Ci(r){var e=r.icon||"roundRect",t=bt(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Te(r,e,t,a){Ht(r,e,t,a),t.dispatchAction({type:"legendToggleSelect",name:r??e}),Wt(r,e,t,a)}function oa(r){for(var e=r.getZr().storage.getDisplayList(),t,a=0,i=e.length;a<i&&!(t=e[a].states.emphasis);)a++;return t&&t.hoverLayer}function Wt(r,e,t,a){oa(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:a})}function Ht(r,e,t,a){oa(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:a})}function Di(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var a=0;a<e.length;a++)if(!e[a].isSelected(t.name))return!1;return!0})}function ut(r,e,t){var a=r==="allSelect"||r==="inverseSelect",i={},n=[];t.eachComponent({mainType:"legend",query:e},function(s){a?s[r]():s[r](e.name),Pe(s,i),n.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){P(i,function(u,l){s[u?"select":"unSelect"](l)}),Pe(s,o)}),a?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function Pe(r,e){var t=e||{};return P(r.getData(),function(a){var i=a.get("name");if(!(i===`
`||i==="")){var n=r.isSelected(i);nr(t,i)?t[i]=t[i]&&n:t[i]=n}}),t}function _i(r){r.registerAction("legendToggleSelect","legendselectchanged",J(ut,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",J(ut,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",J(ut,"inverseSelect")),r.registerAction("legendSelect","legendselected",J(ut,"select")),r.registerAction("legendUnSelect","legendunselected",J(ut,"unSelect"))}function sa(r){r.registerComponentModel(Bt),r.registerComponentView(na),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Di),r.registerSubTypeDefaulter("legend",function(){return"plain"}),_i(r)}var Li=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,a,i){var n=Ve(t);r.prototype.init.call(this,t,a,i),ke(this,t,n)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),ke(this,this.option,t)},e.type="legend.scroll",e.defaultOption=or(Bt.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Bt);function ke(r,e,t){var a=r.getOrient(),i=[1,1];i[a.index]=0,Be(e,t,{type:"box",ignoreSize:!!i})}var Ee=tt,Et=["width","height"],Gt=["x","y"],Ii=function(r){E(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Ee),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ee)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,a,i,n,o,s,u){var l=this;r.prototype.renderInner.call(this,t,a,i,n,o,s,u);var c=this._controllerGroup,v=a.get("pageIconSize",!0),g=ot(v)?v:[v,v];f("pagePrev",0);var h=a.getModel("pageTextStyle");c.add(new xt({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1);function f(p,m){var d=p+"DataIndex",y=sr(a.get("pageIcons",!0)[a.getOrient().name][m],{onclick:ze(l._pageGo,l,d,a,n)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});y.name=p,c.add(y)}},e.prototype.layoutInner=function(t,a,i,n,o,s){var u=this.getSelectorGroup(),l=t.getOrient().index,c=Et[l],v=Gt[l],g=Et[1-l],h=Gt[1-l];o&&nt("horizontal",u,t.get("selectorItemGap",!0));var f=t.get("selectorButtonGap",!0),p=u.getBoundingRect(),m=[-p.x,-p.y],d=lr(i);o&&(d[c]=i[c]-p[c]-f);var y=this._layoutContentAndController(t,n,d,l,c,g,h,v);if(o){if(s==="end")m[l]+=y[c]+f;else{var b=p[c]+f;m[l]-=b,y[v]-=b}y[c]+=p[c]+f,m[1-l]+=y[h]+y[g]/2-p[g]/2,y[g]=Math.max(y[g],p[g]),y[h]=Math.min(y[h],p[h]+m[1-l]),u.x=m[0],u.y=m[1],u.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,a,i,n,o,s,u,l){var c=this.getContentGroup(),v=this._containerGroup,g=this._controllerGroup;nt(t.get("orient"),c,t.get("itemGap"),n?i.width:null,n?null:i.height),nt("horizontal",g,t.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),f=g.getBoundingRect(),p=this._showController=h[o]>i[o],m=[-h.x,-h.y];a||(m[n]=c[l]);var d=[0,0],y=[-f.x,-f.y],b=ur(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var C=t.get("pageButtonPosition",!0);C==="end"?y[n]+=i[o]-f[o]:d[n]+=f[o]+b}y[1-n]+=h[s]/2-f[s]/2,c.setPosition(m),v.setPosition(d),g.setPosition(y);var S={x:0,y:0};if(S[o]=p?i[o]:h[o],S[s]=Math.max(h[s],f[s]),S[u]=Math.min(0,f[u]+y[1-n]),v.__rectSize=i[o],p){var x={x:0,y:0};x[o]=Math.max(i[o]-f[o]-b,0),x[s]=S[s],v.setClipPath(new st({shape:x})),v.__rectSize=x[o]}else g.eachChild(function(_){_.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return A.pageIndex!=null&&vt(c,{x:A.contentPosition[0],y:A.contentPosition[1]},p?t:null),this._updatePageInfoView(t,A),S},e.prototype._pageGo=function(t,a,i){var n=this._getPageInfo(a)[t];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:a.id})},e.prototype._updatePageInfoView=function(t,a){var i=this._controllerGroup;P(["pagePrev","pageNext"],function(c){var v=c+"DataIndex",g=a[v]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",g?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=g?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),s=a.pageIndex,u=s!=null?s+1:0,l=a.pageCount;n&&o&&n.setStyle("text",ft(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(t){var a=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=Et[o],u=Gt[o],l=this._findTargetItemIndex(a),c=i.children(),v=c[l],g=c.length,h=g?1:0,f={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return f;var p=C(v);f.contentPosition[o]=-p.s;for(var m=l+1,d=p,y=p,b=null;m<=g;++m)b=C(c[m]),(!b&&y.e>d.s+n||b&&!S(b,d.s))&&(y.i>d.i?d=y:d=b,d&&(f.pageNextDataIndex==null&&(f.pageNextDataIndex=d.i),++f.pageCount)),y=b;for(var m=l-1,d=p,y=p,b=null;m>=-1;--m)b=C(c[m]),(!b||!S(y,b.s))&&d.i<y.i&&(y=d,f.pagePrevDataIndex==null&&(f.pagePrevDataIndex=d.i),++f.pageCount,++f.pageIndex),d=b;return f;function C(x){if(x){var A=x.getBoundingRect(),_=A[u]+x[u];return{s:_,e:_+A[s],i:x.__legendDataIndex}}}function S(x,A){return x.e>=A&&x.s<=A+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var a,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var u=o.__legendDataIndex;n==null&&u!=null&&(n=s),u===t&&(a=s)}),a??n},e.type="legend.scroll",e}(na);function wi(r){r.registerAction("legendScroll","legendscroll",function(e,t){var a=e.scrollDataIndex;a!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(a)})})}function Ti(r){gt(sa),r.registerComponentModel(Li),r.registerComponentView(Ii),wi(r)}function Oi(r){gt(sa),gt(Ti)}export{mr as A,zr as E,Er as S,ii as a,Ir as b,pr as c,ui as d,jt as e,Ce as f,ki as g,Vr as h,bi as i,qe as j,hi as k,Mi as l,Si as m,Ei as n,Gi as o,Jr as p,Oi as q,fi as r,Pr as s,Qr as t};
