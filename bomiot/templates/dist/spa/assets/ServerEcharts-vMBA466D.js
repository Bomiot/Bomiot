import{Q as or}from"./QPage-DyJhgu9-.js";import{e as sr,g as lr}from"./axios-C8ARmMRm.js";import{u as ur}from"./language-Czmvhs3w.js";import{u as Nt}from"./use-quasar-i7f_Ax9y.js";import{aN as Vt,d as xt,r as nt,w as gt,o as zt,j as Bt,a4 as ge,a5 as J,aL as bt,ad as dt,a9 as cr,au as ct,aq as Ct,a7 as Lt}from"./index-BDb9PYS4.js";import{e as M,S as ot,c as St,a as Da,i as $,b as K,m as hr,p as vr,d as fr,f as gr,C as pr,g as N,h as dr,j as at,k as mr,l as Ft,n as Dt,o as yr,q as Ca,r as La,s as xr,t as br,u as ke,v as U,_ as O,G as rt,w as Et,x as pe,y as Pe,z as Sr,A as Ar,B as q,D as wa,E as tt,F as Wt,H as _r,Z as Dr,I as lt,J as Ht,K as Ot,L as X,M as Te,N as Cr,O as Ia,P as ka,Q as Gt,R as $t,T as ft,U as Lr,V as Me,W as Ee,X as qt,Y as it,$ as de,a0 as Pa,a1 as Oe,a2 as ut,a3 as ae,a4 as Ge,a5 as Tt,a6 as Re,a7 as Rt,a8 as wr,a9 as Ta,aa as Ir,ab as Ne,ac as kr,ad as Pr,ae as At,af as Ma,ag as Ve,ah as Tr,ai as ze,aj as Mr,ak as Er,al as Or,am as Gr,an as me,ao as Rr,ap as Q,aq as Nr,ar as Ea,as as Oa,at as Vr,au as zr,av as Be,aw as Fe,ax as Br,ay as Fr,az as Xt,aA as re,aB as Wr,aC as Mt,aD as Hr,aE as We,aF as He,aG as $r,aH as qr,aI as ie,aJ as $e,aK as Ur,aL as Xr,aM as Zr,aN as Yr,aO as jr,aP as qe,aQ as Ue,aR as Ga,aS as et,aT as Jr,aU as Kr,aV as Qr,aW as ti,aX as ei,aY as ai,aZ as Xe,a_ as ri,a$ as ii,b0 as yt,b1 as ni,b2 as oi,b3 as si,b4 as li,b5 as ui,b6 as ye,b7 as xe,b8 as be,b9 as Se}from"./installCanvasRenderer-HkPxguNO.js";var ci=function(){function r(e){this.coordSysDims=[],this.axisMap=St(),this.categoryAxisMap=St(),this.coordSysName=e}return r}();function hi(r){var e=r.get("coordinateSystem"),t=new ci(e),a=vi[e];if(a)return a(r,t,t.axisMap,t.categoryAxisMap),t}var vi={cartesian2d:function(r,e,t,a){var i=r.getReferringComponents("xAxis",ot).models[0],n=r.getReferringComponents("yAxis",ot).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",n),ht(i)&&(a.set("x",i),e.firstCategoryDimIndex=0),ht(n)&&(a.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,a){var i=r.getReferringComponents("singleAxis",ot).models[0];e.coordSysDims=["single"],t.set("single",i),ht(i)&&(a.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,a){var i=r.getReferringComponents("polar",ot).models[0],n=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),ht(n)&&(a.set("radius",n),e.firstCategoryDimIndex=0),ht(o)&&(a.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,a){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,a){var i=r.ecModel,n=i.getComponent("parallel",r.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();M(n.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),c=o[u];t.set(c,l),ht(l)&&(a.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function ht(r){return r.get("type")==="category"}function fi(r,e){var t=r.get("coordinateSystem"),a=pr.get(t),i;return e&&e.coordSysDims&&(i=N(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var u=s.get("type");o.type=dr(u)}return o})),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),i}function gi(r,e,t){var a,i;return t&&M(r,function(n,o){var s=n.coordDim,u=t.categoryAxisMap.get(s);u&&(a==null&&(a=o),n.ordinalMeta=u.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&a!=null&&(r[a].otherDims.itemName=0),a}function Ae(r,e,t){t=t||{};var a=e.getSourceManager(),i,n=!1;i=a.getSource(),n=i.sourceFormat===Da;var o=hi(e),s=fi(e,o),u=t.useEncodeDefaulter,l=$(u)?u:u?K(hr,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!n},h=vr(i,c),g=gi(h.dimensions,t.createInvertedIndices,o),v=n?null:a.getSharedDataStore(h),f=fr(e,{schema:h,store:v}),p=new gr(h,e);p.setCalculationInfo(f);var y=g!=null&&pi(i)?function(d,m,x,A){return A===g?x:this.defaultDimValueGetter(d,m,x,A)}:null;return p.hasItemOption=!1,p.initData(n?i:v,null,y),p}function pi(r){if(r.sourceFormat===Da){var e=di(r.data||[]);return!at(mr(e))}}function di(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var mi=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),_t=Ca();function Ra(r,e){var t=N(e,function(a){return r.scale.parse(a)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function yi(r){var e=r.getLabelModel().get("customValues");if(e){var t=Dt(r),a=r.scale.getExtent(),i=Ra(r,e),n=Ft(i,function(o){return o>=a[0]&&o<=a[1]});return{labels:N(n,function(o){var s={value:o};return{formattedLabel:t(s),rawLabel:r.scale.getLabel(s),tickValue:o}})}}return r.type==="category"?bi(r):Ai(r)}function xi(r,e){var t=r.getTickModel().get("customValues");if(t){var a=r.scale.getExtent(),i=Ra(r,t);return{ticks:Ft(i,function(n){return n>=a[0]&&n<=a[1]})}}return r.type==="category"?Si(r,e):{ticks:N(r.scale.getTicks(),function(n){return n.value})}}function bi(r){var e=r.getLabelModel(),t=Na(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Na(r,e){var t=Va(r,"labels"),a=La(e),i=za(t,a);if(i)return i;var n,o;return $(a)?n=Wa(r,a):(o=a==="auto"?_i(r):a,n=Fa(r,o)),Ba(t,a,{labels:n,labelCategoryInterval:o})}function Si(r,e){var t=Va(r,"ticks"),a=La(e),i=za(t,a);if(i)return i;var n,o;if((!e.get("show")||r.scale.isBlank())&&(n=[]),$(a))n=Wa(r,a,!0);else if(a==="auto"){var s=Na(r,r.getLabelModel());o=s.labelCategoryInterval,n=N(s.labels,function(u){return u.tickValue})}else o=a,n=Fa(r,o,!0);return Ba(t,a,{ticks:n,tickCategoryInterval:o})}function Ai(r){var e=r.scale.getTicks(),t=Dt(r);return{labels:N(e,function(a,i){return{level:a.level,formattedLabel:t(a,i),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function Va(r,e){return _t(r)[e]||(_t(r)[e]=[])}function za(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function Ba(r,e,t){return r.push({key:e,value:t}),t}function _i(r){var e=_t(r).autoInterval;return e??(_t(r).autoInterval=r.calculateCategoryInterval())}function Di(r){var e=Ci(r),t=Dt(r),a=(e.axisRotate-e.labelRotate)/180*Math.PI,i=r.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=n[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),c=Math.abs(l*Math.cos(a)),h=Math.abs(l*Math.sin(a)),g=0,v=0;u<=n[1];u+=s){var f=0,p=0,y=yr(t({value:u}),e.font,"center","top");f=y.width*1.3,p=y.height*1.3,g=Math.max(g,f,7),v=Math.max(v,p,7)}var d=g/c,m=v/h;isNaN(d)&&(d=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(d,m))),A=_t(r.model),b=r.getExtent(),_=A.lastAutoInterval,S=A.lastTickCount;return _!=null&&S!=null&&Math.abs(_-x)<=1&&Math.abs(S-o)<=1&&_>x&&A.axisExtent0===b[0]&&A.axisExtent1===b[1]?x=_:(A.lastTickCount=o,A.lastAutoInterval=x,A.axisExtent0=b[0],A.axisExtent1=b[1]),x}function Ci(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Fa(r,e,t){var a=Dt(r),i=r.scale,n=i.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=n[0],c=i.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=xr(r),g=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;g&&l!==n[0]&&p(n[0]);for(var f=l;f<=n[1];f+=u)p(f);v&&f-u!==n[1]&&p(n[1]);function p(y){var d={value:y};s.push(t?y:{formattedLabel:a(d),rawLabel:i.getLabel(d),tickValue:y})}return s}function Wa(r,e,t){var a=r.scale,i=Dt(r),n=[];return M(a.getTicks(),function(o){var s=a.getLabel(o),u=o.value;e(o.value,s)&&n.push(t?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),n}var Ze=[0,1],Li=function(){function r(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return r.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=a&&e<=i},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return br(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},r.prototype.dataToCoord=function(e,t){var a=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(a=a.slice(),Ye(a,i.count())),ke(e,Ze,a,t)},r.prototype.coordToData=function(e,t){var a=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(a=a.slice(),Ye(a,i.count()));var n=ke(e,a,Ze,t);return this.scale.scale(n)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=xi(this,t),i=a.ticks,n=N(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return wi(this,n,o,e.clamp),n},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),i=N(a,function(n){return N(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(){return yi(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);a===0&&(a=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/a},r.prototype.calculateCategoryInterval=function(){return Di(this)},r}();function Ye(r,e){var t=r[1]-r[0],a=e,i=t/a/2;r[0]+=i,r[1]-=i}function wi(r,e,t,a){var i=e.length;if(!r.onBand||t||!i)return;var n=r.getExtent(),o,s;if(i===1)e[0].coord=n[0],o=e[1]={coord:n[1],tickValue:e[0].tickValue};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;M(e,function(v){v.coord-=l/2});var c=r.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*s,tickValue:c[1]+1},e.push(o)}var h=n[0]>n[1];g(e[0].coord,n[0])&&(a?e[0].coord=n[0]:e.shift()),a&&g(n[0],e[0].coord)&&e.unshift({coord:n[0]}),g(n[1],o.coord)&&(a?o.coord=n[1]:e.pop()),a&&g(o.coord,n[1])&&e.push({coord:n[1]});function g(v,f){return v=U(v),f=U(f),h?v>f:v<f}}var Ii=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Ae(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new rt,i=Et("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,u=t.itemHeight*.8,l=Et(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);a.add(l),l.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(pe);function _e(r,e){var t=r.mapDimensionsAll("defaultedLabel"),a=t.length;if(a===1){var i=Pe(r,e,t[0]);return i!=null?i+"":null}else if(a){for(var n=[],o=0;o<t.length;o++)n.push(Pe(r,e,t[o]));return n.join(" ")}}function Ha(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!at(e))return e+"";for(var a=[],i=0;i<t.length;i++){var n=r.getDimensionIndex(t[i]);n>=0&&a.push(e[n])}return a.join(" ")}var De=function(r){O(e,r);function e(t,a,i,n){var o=r.call(this)||this;return o.updateData(t,a,i,n),o}return e.prototype._createSymbol=function(t,a,i,n,o){this.removeAll();var s=Et(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=ki,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Sr(this.childAt(0))},e.prototype.downplay=function(){Ar(this.childAt(0))},e.prototype.setZ=function(t,a){var i=this.childAt(0);i.zlevel=t,i.z=a},e.prototype.setDraggable=function(t,a){var i=this.childAt(0);i.draggable=t,i.cursor=!a&&t?"move":i.cursor},e.prototype.updateData=function(t,a,i,n){this.silent=!1;var o=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,u=e.getSymbolSize(t,a),l=o!==this._symbolType,c=n&&n.disableAnimation;if(l){var h=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,t,a,u,h)}else{var g=this.childAt(0);g.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};c?g.attr(v):q(g,v,s,a),wa(g)}if(this._updateCommon(t,a,u,i,n),l){var g=this.childAt(0);if(!c){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,tt(g,v,s,a)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,i,n,o){var s=this.childAt(0),u=t.hostModel,l,c,h,g,v,f,p,y,d;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,g=n.focus,v=n.blurScope,p=n.labelStatesModels,y=n.hoverScale,d=n.cursorStyle,f=n.emphasisDisabled),!n||t.hasItemOption){var m=n&&n.itemModel?n.itemModel:t.getItemModel(a),x=m.getModel("emphasis");l=x.getModel("itemStyle").getItemStyle(),h=m.getModel(["select","itemStyle"]).getItemStyle(),c=m.getModel(["blur","itemStyle"]).getItemStyle(),g=x.get("focus"),v=x.get("blurScope"),f=x.get("disabled"),p=Wt(m),y=x.getShallow("scale"),d=m.getShallow("cursor")}var A=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(A||0)*Math.PI/180||0);var b=_r(t.getItemVisual(a,"symbolOffset"),i);b&&(s.x=b[0],s.y=b[1]),d&&s.attr("cursor",d);var _=t.getItemVisual(a,"style"),S=_.fill;if(s instanceof Dr){var C=s.style;s.useStyle(lt({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},_))}else s.__isEmptyBrush?s.useStyle(lt({},_)):s.useStyle(_),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var k=t.getItemVisual(a,"liftZ"),w=this._z2;k!=null?w==null&&(this._z2=s.z2,s.z2+=k):w!=null&&(s.z2=w,this._z2=null);var D=o&&o.useNameLabel;Ht(s,p,{labelFetcher:u,labelDataIndex:a,defaultText:L,inheritColor:S,defaultOpacity:_.opacity});function L(P){return D?t.getName(P):_e(t,P)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var I=s.ensureState("emphasis");I.style=l,s.ensureState("select").style=h,s.ensureState("blur").style=c;var E=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;I.scaleX=this._sizeX*E,I.scaleY=this._sizeY*E,this.setSymbolScale(1),Ot(this,g,v,f)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,i){var n=this.childAt(0),o=X(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var u=n.getTextContent();u&&Te(u,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Te(n,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return Cr(t.getItemVisual(a,"symbolSize"))},e}(rt);function ki(r,e){this.parent.drift(r,e)}function Zt(r,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function je(r){return r!=null&&!ka(r)&&(r={isIgnore:r}),r||{}}function Je(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Wt(e),cursorStyle:e.get("cursor")}}var Pi=function(){function r(e){this.group=new rt,this._SymbolCtor=e||De}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=je(t);var a=this.group,i=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,u=Je(e),l={disableAnimation:s},c=t.getSymbolPoint||function(h){return e.getItemLayout(h)};n||a.removeAll(),e.diff(n).add(function(h){var g=c(h);if(Zt(e,g,h,t)){var v=new o(e,h,u,l);v.setPosition(g),e.setItemGraphicEl(h,v),a.add(v)}}).update(function(h,g){var v=n.getItemGraphicEl(g),f=c(h);if(!Zt(e,f,h,t)){a.remove(v);return}var p=e.getItemVisual(h,"symbol")||"circle",y=v&&v.getSymbolType&&v.getSymbolType();if(!v||y&&y!==p)a.remove(v),v=new o(e,h,u,l),v.setPosition(f);else{v.updateData(e,h,u,l);var d={x:f[0],y:f[1]};s?v.attr(d):q(v,d,i)}a.add(v),e.setItemGraphicEl(h,v)}).remove(function(h){var g=n.getItemGraphicEl(h);g&&g.fadeOut(function(){a.remove(g)},i)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,i){var n=e._getSymbolPoint(i);a.setPosition(n),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Je(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=je(a);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(Zt(t,o,n,a)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(e){Ia(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},a.hostModel)}):t.removeAll()},r}();function $a(r,e,t){var a=r.getBaseAxis(),i=r.getOtherAxis(a),n=Ti(i,t),o=a.dim,s=i.dim,u=e.mapDimension(s),l=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,h=N(r.dimensions,function(f){return e.mapDimension(f)}),g=!1,v=e.getCalculationInfo("stackResultDimension");return Gt(e,h[0])&&(g=!0,h[0]=v),Gt(e,h[1])&&(g=!0,h[1]=v),{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!g,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ti(r,e){var t=0,a=r.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:$t(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function qa(r,e,t,a){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=r.valueStart);var n=r.baseDataOffset,o=[];return o[n]=t.get(r.baseDim,a),o[1-n]=i,e.dataToPoint(o)}function Mi(r,e){var t=[];return e.diff(r).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,i){t.push({cmd:"=",idx:i,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Ei(r,e,t,a,i,n,o,s){for(var u=Mi(r,e),l=[],c=[],h=[],g=[],v=[],f=[],p=[],y=$a(i,e,o),d=r.getLayout("points")||[],m=e.getLayout("points")||[],x=0;x<u.length;x++){var A=u[x],b=!0,_=void 0,S=void 0;switch(A.cmd){case"=":_=A.idx*2,S=A.idx1*2;var C=d[_],k=d[_+1],w=m[S],D=m[S+1];(isNaN(C)||isNaN(k))&&(C=w,k=D),l.push(C,k),c.push(w,D),h.push(t[_],t[_+1]),g.push(a[S],a[S+1]),p.push(e.getRawIndex(A.idx1));break;case"+":var L=A.idx,I=y.dataDimsForPoint,E=i.dataToPoint([e.get(I[0],L),e.get(I[1],L)]);S=L*2,l.push(E[0],E[1]),c.push(m[S],m[S+1]);var P=qa(y,i,e,L);h.push(P[0],P[1]),g.push(a[S],a[S+1]),p.push(e.getRawIndex(L));break;case"-":b=!1}b&&(v.push(A),f.push(f.length))}f.sort(function(V,Ut){return p[V]-p[Ut]});for(var R=l.length,z=ft(R),T=ft(R),G=ft(R),B=ft(R),F=[],x=0;x<f.length;x++){var pt=f[x],W=x*2,H=pt*2;z[W]=l[H],z[W+1]=l[H+1],T[W]=c[H],T[W+1]=c[H+1],G[W]=h[H],G[W+1]=h[H+1],B[W]=g[H],B[W+1]=g[H+1],F[x]=v[pt]}return{current:z,next:T,stackedOnCurrent:G,stackedOnNext:B,status:F}}var Z=Math.min,Y=Math.max;function st(r,e){return isNaN(r)||isNaN(e)}function ne(r,e,t,a,i,n,o,s,u){for(var l,c,h,g,v,f,p=t,y=0;y<a;y++){var d=e[p*2],m=e[p*2+1];if(p>=i||p<0)break;if(st(d,m)){if(u){p+=n;continue}break}if(p===t)r[n>0?"moveTo":"lineTo"](d,m),h=d,g=m;else{var x=d-l,A=m-c;if(x*x+A*A<.5){p+=n;continue}if(o>0){for(var b=p+n,_=e[b*2],S=e[b*2+1];_===d&&S===m&&y<a;)y++,b+=n,p+=n,_=e[b*2],S=e[b*2+1],d=e[p*2],m=e[p*2+1],x=d-l,A=m-c;var C=y+1;if(u)for(;st(_,S)&&C<a;)C++,b+=n,_=e[b*2],S=e[b*2+1];var k=.5,w=0,D=0,L=void 0,I=void 0;if(C>=a||st(_,S))v=d,f=m;else{w=_-l,D=S-c;var E=d-l,P=_-d,R=m-c,z=S-m,T=void 0,G=void 0;if(s==="x"){T=Math.abs(E),G=Math.abs(P);var B=w>0?1:-1;v=d-B*T*o,f=m,L=d+B*G*o,I=m}else if(s==="y"){T=Math.abs(R),G=Math.abs(z);var F=D>0?1:-1;v=d,f=m-F*T*o,L=d,I=m+F*G*o}else T=Math.sqrt(E*E+R*R),G=Math.sqrt(P*P+z*z),k=G/(G+T),v=d-w*o*(1-k),f=m-D*o*(1-k),L=d+w*o*k,I=m+D*o*k,L=Z(L,Y(_,d)),I=Z(I,Y(S,m)),L=Y(L,Z(_,d)),I=Y(I,Z(S,m)),w=L-d,D=I-m,v=d-w*T/G,f=m-D*T/G,v=Z(v,Y(l,d)),f=Z(f,Y(c,m)),v=Y(v,Z(l,d)),f=Y(f,Z(c,m)),w=d-v,D=m-f,L=d+w*G/T,I=m+D*G/T}r.bezierCurveTo(h,g,v,f,d,m),h=L,g=I}else r.lineTo(d,m)}l=d,c=m,p+=n}return y}var Ua=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Oi=function(r){O(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ua},e.prototype.buildPath=function(t,a){var i=a.points,n=0,o=i.length/2;if(a.connectNulls){for(;o>0&&st(i[o*2-2],i[o*2-1]);o--);for(;n<o&&st(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=ne(t,i,n,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=Lr.CMD,s,u,l=a==="x",c=[],h=0;h<n.length;){var g=n[h++],v=void 0,f=void 0,p=void 0,y=void 0,d=void 0,m=void 0,x=void 0;switch(g){case o.M:s=n[h++],u=n[h++];break;case o.L:if(v=n[h++],f=n[h++],x=l?(t-s)/(v-s):(t-u)/(f-u),x<=1&&x>=0){var A=l?(f-u)*x+u:(v-s)*x+s;return l?[t,A]:[A,t]}s=v,u=f;break;case o.C:v=n[h++],f=n[h++],p=n[h++],y=n[h++],d=n[h++],m=n[h++];var b=l?Me(s,v,p,d,t,c):Me(u,f,y,m,t,c);if(b>0)for(var _=0;_<b;_++){var S=c[_];if(S<=1&&S>=0){var A=l?Ee(u,f,y,m,S):Ee(s,v,p,d,S);return l?[t,A]:[A,t]}}s=d,u=m;break}}},e}(qt),Gi=function(r){O(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ua),Ri=function(r){O(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new Gi},e.prototype.buildPath=function(t,a){var i=a.points,n=a.stackedOnPoints,o=0,s=i.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;s>0&&st(i[s*2-2],i[s*2-1]);s--);for(;o<s&&st(i[o*2],i[o*2+1]);o++);}for(;o<s;){var l=ne(t,i,o,s,s,1,a.smooth,u,a.connectNulls);ne(t,n,o+l-1,l,s,-1,a.stackedOnSmooth,u,a.connectNulls),o+=l+1,t.closePath()}},e}(qt);function Xa(r,e,t,a,i){var n=r.getArea(),o=n.x,s=n.y,u=n.width,l=n.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,u+=c,l+=c,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var h=new it({shape:{x:o,y:s,width:u,height:l}});if(e){var g=r.getBaseAxis(),v=g.isHorizontal(),f=g.inverse;v?(f&&(h.shape.x+=u),h.shape.width=0):(f||(h.shape.y+=l),h.shape.height=0);var p=$(i)?function(y){i(y,h)}:null;tt(h,{shape:{width:u,height:l,x:o,y:s}},t,null,a,p)}return h}function Za(r,e,t){var a=r.getArea(),i=U(a.r0,1),n=U(a.r,1),o=new de({shape:{cx:U(r.cx,1),cy:U(r.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(e){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=i,tt(o,{shape:{endAngle:a.endAngle,r:n}},t)}return o}function Ni(r,e,t,a,i){if(r){if(r.type==="polar")return Za(r,e,t);if(r.type==="cartesian2d")return Xa(r,e,t,a,i)}else return null;return null}function Ce(r,e){return r.type===e}function Ke(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function Qe(r){for(var e=1/0,t=1/0,a=-1/0,i=-1/0,n=0;n<r.length;){var o=r[n++],s=r[n++];isNaN(o)||(e=Math.min(o,e),a=Math.max(o,a)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[a,i]]}function ta(r,e){var t=Qe(r),a=t[0],i=t[1],n=Qe(e),o=n[0],s=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function ea(r){return $t(r)?r:r?.5:0}function Vi(r,e,t){if(!t.valueDim)return[];for(var a=e.count(),i=ft(a*2),n=0;n<a;n++){var o=qa(t,r,e,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function j(r,e,t,a,i){var n=t.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,s=[],u=0,l=[],c=[],h=[],g=[];if(i){for(u=0;u<r.length;u+=2){var v=e||r;!isNaN(v[u])&&!isNaN(v[u+1])&&g.push(r[u],r[u+1])}r=g}for(u=0;u<r.length-2;u+=2)switch(h[0]=r[u+2],h[1]=r[u+3],c[0]=r[u],c[1]=r[u+1],s.push(c[0],c[1]),a){case"end":l[o]=h[o],l[1-o]=c[1-o],s.push(l[0],l[1]);break;case"middle":var f=(c[o]+h[o])/2,p=[];l[o]=p[o]=f,l[1-o]=c[1-o],p[1-o]=h[1-o],s.push(l[0],l[1]),s.push(p[0],p[1]);break;default:l[o]=c[o],l[1-o]=h[1-o],s.push(l[0],l[1])}return s.push(r[u++],r[u++]),s}function zi(r,e){var t=[],a=r.length,i,n;function o(c,h,g){var v=c.coord,f=(g-v)/(h.coord-v),p=kr(f,[c.color,h.color]);return{coord:g,color:p}}for(var s=0;s<a;s++){var u=r[s],l=u.coord;if(l<0)i=u;else if(l>e){n?t.push(o(n,u,e)):i&&t.push(o(i,u,0),o(i,u,e));break}else i&&(t.push(o(i,u,0)),i=null),t.push(u),n=u}return t}function Bi(r,e,t){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&e.type==="cartesian2d"){for(var i,n,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){n=a[o];break}}if(n){var u=e.getAxis(i),l=N(n.stops,function(x){return{coord:u.toGlobalCoord(u.dataToCoord(x.value)),color:x.color}}),c=l.length,h=n.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var g=zi(l,i==="x"?t.getWidth():t.getHeight()),v=g.length;if(!v&&c)return l[0].coord<0?h[1]?h[1]:l[c-1].color:h[0]?h[0]:l[0].color;var f=10,p=g[0].coord-f,y=g[v-1].coord+f,d=y-p;if(d<.001)return"transparent";M(g,function(x){x.offset=(x.coord-p)/d}),g.push({offset:v?g[v-1].offset:.5,color:h[1]||"transparent"}),g.unshift({offset:v?g[0].offset:.5,color:h[0]||"transparent"});var m=new Ir(0,0,0,0,g,!0);return m[i]=p,m[i+"2"]=y,m}}}function Fi(r,e,t){var a=r.get("showAllSymbol"),i=a==="auto";if(!(a&&!i)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(i&&Wi(n,e))){var o=e.mapDimension(n.dim),s={};return M(n.getViewLabels(),function(u){var l=n.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function Wi(r,e){var t=r.getExtent(),a=Math.abs(t[1]-t[0])/r.scale.count();isNaN(a)&&(a=0);for(var i=e.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(De.getSymbolSize(e,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Hi(r,e){return isNaN(r)||isNaN(e)}function $i(r){for(var e=r.length/2;e>0&&Hi(r[e*2-2],r[e*2-1]);e--);return e-1}function aa(r,e){return[r[e*2],r[e*2+1]]}function qi(r,e,t){for(var a=r.length/2,i=t==="x"?0:1,n,o,s=0,u=-1,l=0;l<a;l++)if(o=r[l*2+i],!(isNaN(o)||isNaN(r[l*2+1-i]))){if(l===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){u=l;break}s=l,n=o}return{range:[s,u],t:(e-n)/(o-n)}}function Ya(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<Ne.length;e++)if(r.get([Ne[e],"endLabel","show"]))return!0;return!1}function Yt(r,e,t,a){if(Ce(e,"cartesian2d")){var i=a.getModel("endLabel"),n=i.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},u=Ya(a)?function(v,f){r._endLabelOnDuring(v,f,o,s,n,i,e)}:null,l=e.getBaseAxis().isHorizontal(),c=Xa(e,t,a,function(){var v=r._endLabel;v&&t&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},u);if(!a.get("clip",!0)){var h=c.shape,g=Math.max(h.width,h.height);l?(h.y-=g,h.height+=g*2):(h.x-=g,h.width+=g*2)}return u&&u(1,c),c}else return Za(e,t,a)}function Ui(r,e){var t=e.getBaseAxis(),a=t.isHorizontal(),i=t.inverse,n=a?i?"right":"left":"center",o=a?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||n,verticalAlign:r.get("verticalAlign")||o}}}var Xi=function(r){O(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new rt,a=new Pi;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t,this._changePolyState=Pa(this._changePolyState,this)},e.prototype.render=function(t,a,i){var n=t.coordinateSystem,o=this.group,s=t.getData(),u=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=s.getLayout("points")||[],h=n.type==="polar",g=this._coordSys,v=this._symbolDraw,f=this._polyline,p=this._polygon,y=this._lineGroup,d=!a.ssr&&t.get("animation"),m=!l.isEmpty(),x=l.get("origin"),A=$a(n,s,x),b=m&&Vi(n,s,A),_=t.get("showSymbol"),S=t.get("connectNulls"),C=_&&!h&&Fi(t,s,n),k=this._data;k&&k.eachItemGraphicEl(function(V,Ut){V.__temp&&(o.remove(V),k.setItemGraphicEl(Ut,null))}),_||v.remove(),o.add(y);var w=h?!1:t.get("step"),D;n&&n.getArea&&t.get("clip",!0)&&(D=n.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var L=Bi(s,n,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(f&&g.type===n.type&&w===this._step))_&&v.updateData(s,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(V){return[c[V*2],c[V*2+1]]}}),d&&this._initSymbolLabelAnimation(s,n,D),w&&(b&&(b=j(b,c,n,w,S)),c=j(c,null,n,w,S)),f=this._newPolyline(c),m?p=this._newPolygon(c,b):p&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(t,n,Oe(L)),y.setClipPath(Yt(this,n,!0,t));else{m&&!p?p=this._newPolygon(c,b):p&&!m&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(t,n,Oe(L));var I=y.getClipPath();if(I){var E=Yt(this,n,!1,t);tt(I,{shape:E.shape},t)}else y.setClipPath(Yt(this,n,!0,t));_&&v.updateData(s,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(V){return[c[V*2],c[V*2+1]]}}),(!Ke(this._stackedOnPoints,b)||!Ke(this._points,c))&&(d?this._doUpdateAnimation(s,b,n,i,w,x,S):(w&&(b&&(b=j(b,c,n,w,S)),c=j(c,null,n,w,S)),f.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:b})))}var P=t.getModel("emphasis"),R=P.get("focus"),z=P.get("blurScope"),T=P.get("disabled");if(f.useStyle(ut(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),ae(f,t,"lineStyle"),f.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var G=f.getState("emphasis").style;G.lineWidth=+f.style.lineWidth+1}X(f).seriesIndex=t.seriesIndex,Ot(f,R,z,T);var B=ea(t.get("smooth")),F=t.get("smoothMonotone");if(f.setShape({smooth:B,smoothMonotone:F,connectNulls:S}),p){var pt=s.getCalculationInfo("stackedOnSeries"),W=0;p.useStyle(ut(l.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),pt&&(W=ea(pt.get("smooth"))),p.setShape({smooth:B,stackedOnSmooth:W,smoothMonotone:F,connectNulls:S}),ae(p,t,"areaStyle"),X(p).seriesIndex=t.seriesIndex,Ot(p,R,z,T)}var H=this._changePolyState;s.eachItemGraphicEl(function(V){V&&(V.onHoverStateChange=H)}),this._polyline.onHoverStateChange=H,this._data=s,this._coordSys=n,this._stackedOnPoints=b,this._points=c,this._step=w,this._valueOrigin=x,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,a){X(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,i,n){var o=t.getData(),s=Ge(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var c=u[s*2],h=u[s*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var g=t.get("zlevel")||0,v=t.get("z")||0;l=new De(o,s),l.x=c,l.y=h,l.setZ(g,v);var f=l.getSymbolPath().getTextContent();f&&(f.zlevel=g,f.z=v,f.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Tt.prototype.highlight.call(this,t,a,i,n)},e.prototype.downplay=function(t,a,i,n){var o=t.getData(),s=Ge(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Tt.prototype.downplay.call(this,t,a,i,n)},e.prototype._changePolyState=function(t){var a=this._polygon;Re(this._polyline,t),a&&Re(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Oi({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Ri({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,a,i){var n,o,s=a.getBaseAxis(),u=s.inverse;a.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):a.type==="polar"&&(n=s.dim==="angle",o=!0);var l=t.hostModel,c=l.get("animationDuration");$(c)&&(c=c(null));var h=l.get("animationDelay")||0,g=$(h)?h(null):h;t.eachItemGraphicEl(function(v,f){var p=v;if(p){var y=[v.x,v.y],d=void 0,m=void 0,x=void 0;if(i)if(o){var A=i,b=a.pointToCoord(y);n?(d=A.startAngle,m=A.endAngle,x=-b[1]/180*Math.PI):(d=A.r0,m=A.r,x=b[0])}else{var _=i;n?(d=_.x,m=_.x+_.width,x=v.x):(d=_.y+_.height,m=_.y,x=v.y)}var S=m===d?0:(x-d)/(m-d);u&&(S=1-S);var C=$(h)?h(f):c*S+g,k=p.getSymbolPath(),w=k.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:C}),k.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,i){var n=t.getModel("endLabel");if(Ya(t)){var o=t.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Rt({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=$i(u);c>=0&&(Ht(s,Wt(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(h,g,v){return v!=null?Ha(o,v):_e(o,h)},enableTextSetter:!0},Ui(n,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,i,n,o,s,u){var l=this._endLabel,c=this._polyline;if(l){t<1&&n.originalX==null&&(n.originalX=l.x,n.originalY=l.y);var h=i.getLayout("points"),g=i.hostModel,v=g.get("connectNulls"),f=s.get("precision"),p=s.get("distance")||0,y=u.getBaseAxis(),d=y.isHorizontal(),m=y.inverse,x=a.shape,A=m?d?x.x:x.y+x.height:d?x.x+x.width:x.y,b=(d?p:0)*(m?-1:1),_=(d?0:-p)*(m?-1:1),S=d?"x":"y",C=qi(h,A,S),k=C.range,w=k[1]-k[0],D=void 0;if(w>=1){if(w>1&&!v){var L=aa(h,k[0]);l.attr({x:L[0]+b,y:L[1]+_}),o&&(D=g.getRawValue(k[0]))}else{var L=c.getPointOn(A,S);L&&l.attr({x:L[0]+b,y:L[1]+_});var I=g.getRawValue(k[0]),E=g.getRawValue(k[1]);o&&(D=wr(i,f,I,E,C.t))}n.lastFrameIndex=k[0]}else{var P=t===1||n.lastFrameIndex>0?k[0]:0,L=aa(h,P);o&&(D=g.getRawValue(P)),l.attr({x:L[0]+b,y:L[1]+_})}if(o){var R=Ta(l);typeof R.setLabelText=="function"&&R.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(t,a,i,n,o,s,u){var l=this._polyline,c=this._polygon,h=t.hostModel,g=Ei(this._data,t,this._stackedOnPoints,a,this._coordSys,i,this._valueOrigin),v=g.current,f=g.stackedOnCurrent,p=g.next,y=g.stackedOnNext;if(o&&(f=j(g.stackedOnCurrent,g.current,i,o,u),v=j(g.current,null,i,o,u),y=j(g.stackedOnNext,g.next,i,o,u),p=j(g.next,null,i,o,u)),ta(v,p)>3e3||c&&ta(f,y)>3e3){l.stopAnimation(),l.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:y}));return}l.shape.__points=g.current,l.shape.points=v;var d={shape:{points:p}};g.current!==v&&(d.shape.__points=g.next),l.stopAnimation(),q(l,d,h),c&&(c.setShape({points:v,stackedOnPoints:f}),c.stopAnimation(),q(c,{shape:{stackedOnPoints:y}},h),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var m=[],x=g.status,A=0;A<x.length;A++){var b=x[A].cmd;if(b==="="){var _=t.getItemGraphicEl(x[A].idx1);_&&m.push({el:_,ptIdx:A})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var S=l.shape.__points,C=0;C<m.length;C++){var k=m[C].el,w=m[C].ptIdx*2;k.x=S[w],k.y=S[w+1],k.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(a.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Tt);function Zi(r,e){return{seriesType:r,plan:Pr(),reset:function(t){var a=t.getData(),i=t.coordinateSystem;if(t.pipelineContext,!!i){var n=N(i.dimensions,function(h){return a.mapDimension(h)}).slice(0,2),o=n.length,s=a.getCalculationInfo("stackResultDimension");Gt(a,n[0])&&(n[0]=s),Gt(a,n[1])&&(n[1]=s);var u=a.getStore(),l=a.getDimensionIndex(n[0]),c=a.getDimensionIndex(n[1]);return o&&{progress:function(h,g){for(var v=h.end-h.start,f=ft(v*o),p=[],y=[],d=h.start,m=0;d<h.end;d++){var x=void 0;if(o===1){var A=u.get(l,d);x=i.dataToPoint(A,null,y)}else p[0]=u.get(l,d),p[1]=u.get(c,d),x=i.dataToPoint(p,null,y);f[m++]=x[0],f[m++]=x[1]}g.setLayout("points",f)}}}}}}var Yi={average:function(r){for(var e=0,t=0,a=0;a<r.length;a++)isNaN(r[a])||(e+=r[a],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},ji=function(r){return Math.round(r.length/2)};function ja(r){return{seriesType:r,reset:function(e,t,a){var i=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),h=a.getDevicePixelRatio(),g=Math.abs(c[1]-c[0])*(h||1),v=Math.round(s/g);if(isFinite(v)&&v>1){n==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/v)):n==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(l.dim),1/v));var f=void 0;At(n)?f=Yi[n]:$(n)&&(f=n),f&&e.setData(i.downSample(i.mapDimension(l.dim),1/v,f,ji))}}}}}function Ja(r){r.registerChartView(Xi),r.registerSeriesModel(Ii),r.registerLayout(Zi("line")),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ja("line"))}var oe=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,a){return Ae(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,a,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(t),s=n.dataToPoint(o);if(i)M(n.getAxes(),function(g,v){if(g.type==="category"&&a!=null){var f=g.getTicksCoords(),p=g.getTickModel().get("alignWithLabel"),y=o[v],d=a[v]==="x1"||a[v]==="y1";if(d&&!p&&(y+=1),f.length<2)return;if(f.length===2){s[v]=g.toGlobalCoord(g.getExtent()[d?1:0]);return}for(var m=void 0,x=void 0,A=1,b=0;b<f.length;b++){var _=f[b].coord,S=b===f.length-1?f[b-1].tickValue+A:f[b].tickValue;if(S===y){x=_;break}else if(S<y)m=_;else if(m!=null&&S>y){x=(_+m)/2;break}b===1&&(A=S-f[0].tickValue)}x==null&&(m?m&&(x=f[f.length-1].coord):x=f[0].coord),s[v]=g.toGlobalCoord(x)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=n.getBaseAxis().isHorizontal()?0:1;s[h]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(pe);pe.registerClass(oe);var Ji=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Ae(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>t&&(t=a),t},e.prototype.brushSelector=function(t,a,i){return i.rect(a.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Ma(oe.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(oe),Ki=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),ra=function(r){O(e,r);function e(t){var a=r.call(this,t)||this;return a.type="sausage",a}return e.prototype.getDefaultShape=function(){return new Ki},e.prototype.buildPath=function(t,a){var i=a.cx,n=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),u=(s-o)*.5,l=o+u,c=a.startAngle,h=a.endAngle,g=a.clockwise,v=Math.PI*2,f=g?h-c<v:c-h<v;f||(c=h-(g?v:-v));var p=Math.cos(c),y=Math.sin(c),d=Math.cos(h),m=Math.sin(h);f?(t.moveTo(p*o+i,y*o+n),t.arc(p*l+i,y*l+n,u,-Math.PI+c,c,!g)):t.moveTo(p*s+i,y*s+n),t.arc(i,n,s,c,h,!g),t.arc(d*l+i,m*l+n,u,h-Math.PI*2,h-Math.PI,!g),o!==0&&t.arc(i,n,o,h,c,g)},e}(qt);function Qi(r,e){e=e||{};var t=e.isRoundCap;return function(a,i,n){var o=i.position;if(!o||o instanceof Array)return Ve(a,i,n);var s=r(o),u=i.distance!=null?i.distance:5,l=this.shape,c=l.cx,h=l.cy,g=l.r,v=l.r0,f=(g+v)/2,p=l.startAngle,y=l.endAngle,d=(p+y)/2,m=t?Math.abs(g-v)/2:0,x=Math.cos,A=Math.sin,b=c+g*x(p),_=h+g*A(p),S="left",C="top";switch(s){case"startArc":b=c+(v-u)*x(d),_=h+(v-u)*A(d),S="center",C="top";break;case"insideStartArc":b=c+(v+u)*x(d),_=h+(v+u)*A(d),S="center",C="bottom";break;case"startAngle":b=c+f*x(p)+wt(p,u+m,!1),_=h+f*A(p)+It(p,u+m,!1),S="right",C="middle";break;case"insideStartAngle":b=c+f*x(p)+wt(p,-u+m,!1),_=h+f*A(p)+It(p,-u+m,!1),S="left",C="middle";break;case"middle":b=c+f*x(d),_=h+f*A(d),S="center",C="middle";break;case"endArc":b=c+(g+u)*x(d),_=h+(g+u)*A(d),S="center",C="bottom";break;case"insideEndArc":b=c+(g-u)*x(d),_=h+(g-u)*A(d),S="center",C="top";break;case"endAngle":b=c+f*x(y)+wt(y,u+m,!0),_=h+f*A(y)+It(y,u+m,!0),S="left",C="middle";break;case"insideEndAngle":b=c+f*x(y)+wt(y,-u+m,!0),_=h+f*A(y)+It(y,-u+m,!0),S="right",C="middle";break;default:return Ve(a,i,n)}return a=a||{},a.x=b,a.y=_,a.align=S,a.verticalAlign=C,a}}function tn(r,e,t,a){if($t(a)){r.setTextConfig({rotation:a});return}else if(at(e)){r.setTextConfig({rotation:0});return}var i=r.shape,n=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(n+o)/2,u,l=t(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=n;break;case"endAngle":case"insideEndAngle":u=o;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function wt(r,e,t){return e*Math.sin(r)*(t?-1:1)}function It(r,e,t){return e*Math.cos(r)*(t?1:-1)}function en(r,e,t){var a=r.get("borderRadius");if(a==null)return{cornerRadius:0};at(a)||(a=[a,a,a,a]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:N(a,function(n){return Tr(n,i)})}}var jt=Math.max,Jt=Math.min;function an(r,e){var t=r.getArea&&r.getArea();if(Ce(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=e.getLayout("bandWidth");a.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var rn=function(r){O(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,a,i,n){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,a,i):this._renderNormal(t,a,i,n))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,a){this._progressiveEls=[],this._incrementalRenderLarge(t,a)},e.prototype.eachRendered=function(t){Ia(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},e.prototype._renderNormal=function(t,a,i,n){var o=this.group,s=t.getData(),u=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var g=t.isAnimationEnabled()?t:null,v=nn(t,l);v&&this._enableRealtimeSort(v,s,i);var f=t.get("clip",!0)||v,p=an(l,s);o.removeClipPath();var y=t.get("roundCap",!0),d=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),x=m.get("borderRadius")||0,A=[],b=this._backgroundEls,_=n&&n.isInitSort,S=n&&n.type==="changeAxisOrder";function C(D){var L=kt[l.type](s,D),I=vn(l,h,L);return I.useStyle(m.getItemStyle()),l.type==="cartesian2d"?I.setShape("r",x):I.setShape("cornerRadius",x),A[D]=I,I}s.diff(u).add(function(D){var L=s.getItemModel(D),I=kt[l.type](s,D,L);if(d&&C(D),!(!s.hasValue(D)||!la[l.type](I))){var E=!1;f&&(E=ia[l.type](p,I));var P=na[l.type](t,s,D,I,h,g,c.model,!1,y);v&&(P.forceLabelAnimation=!0),ua(P,s,D,L,I,t,h,l.type==="polar"),_?P.attr({shape:I}):v?oa(v,g,P,I,D,h,!1,!1):tt(P,{shape:I},t,D),s.setItemGraphicEl(D,P),o.add(P),P.ignore=E}}).update(function(D,L){var I=s.getItemModel(D),E=kt[l.type](s,D,I);if(d){var P=void 0;b.length===0?P=C(L):(P=b[L],P.useStyle(m.getItemStyle()),l.type==="cartesian2d"?P.setShape("r",x):P.setShape("cornerRadius",x),A[D]=P);var R=kt[l.type](s,D),z=Qa(h,R,l);q(P,{shape:z},g,D)}var T=u.getItemGraphicEl(L);if(!s.hasValue(D)||!la[l.type](E)){o.remove(T);return}var G=!1;if(f&&(G=ia[l.type](p,E),G&&o.remove(T)),T?wa(T):T=na[l.type](t,s,D,E,h,g,c.model,!!T,y),v&&(T.forceLabelAnimation=!0),S){var B=T.getTextContent();if(B){var F=Ta(B);F.prevValue!=null&&(F.prevValue=F.value)}}else ua(T,s,D,I,E,t,h,l.type==="polar");_?T.attr({shape:E}):v?oa(v,g,T,E,D,h,!0,S):q(T,{shape:E},t,D,null),s.setItemGraphicEl(D,T),T.ignore=G,o.add(T)}).remove(function(D){var L=u.getItemGraphicEl(D);L&&ze(L,t,D)}).execute();var k=this._backgroundGroup||(this._backgroundGroup=new rt);k.removeAll();for(var w=0;w<A.length;++w)k.add(A[w]);o.add(k),this._backgroundEls=A,this._data=s},e.prototype._renderLarge=function(t,a,i){this._clear(),ha(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,a){this._removeBackground(),ha(a,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var a=t.get("clip",!0)&&Ni(t.coordinateSystem,!1,t),i=this.group;a?i.setClipPath(a):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,a,i){var n=this;if(a.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,t,i),this._isFirstFrame=!1;else{var s=function(u){var l=a.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){n._updateSortWithinSameData(a,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,a,i){var n=[];return t.each(t.mapDimension(a.dim),function(o,s){var u=i(s);u=u??NaN,n.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:N(n,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,a,i){for(var n=i.scale,o=t.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,l=n.getOrdinalMeta().categories.length;u<l;++u){var c=t.rawIndexOf(o,n.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:a(t.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(t,a){for(var i=a.scale,n=i.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,a,i,n){if(this._isOrderChangedWithinSameData(t,a,i)){var o=this._dataSort(t,i,a);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,a,i){var n=a.baseAxis,o=this._dataSort(t,n,function(s){return t.get(t.mapDimension(a.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},e.prototype.remove=function(t,a){this._clear(this._model),this._removeOnRenderedListener(a)},e.prototype.dispose=function(t,a){this._removeOnRenderedListener(a)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var a=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){ze(n,t,X(n).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Tt),ia={cartesian2d:function(r,e){var t=e.width<0?-1:1,a=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height);var i=r.x+r.width,n=r.y+r.height,o=jt(e.x,r.x),s=Jt(e.x+e.width,i),u=jt(e.y,r.y),l=Jt(e.y+e.height,n),c=s<o,h=l<u;return e.x=c&&o>i?s:o,e.y=h&&u>n?l:u,e.width=c?0:s-o,e.height=h?0:l-u,t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}var i=Jt(e.r,r.r),n=jt(e.r0,r.r0);e.r=i,e.r0=n;var o=i-n<0;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}return o}},na={cartesian2d:function(r,e,t,a,i,n,o,s,u){var l=new it({shape:lt({},a),z2:1});if(l.__dataIndex=t,l.name="item",n){var c=l.shape,h=i?"height":"width";c[h]=0}return l},polar:function(r,e,t,a,i,n,o,s,u){var l=!i&&u?ra:de,c=new l({shape:a,z2:1});c.name="item";var h=Ka(i);if(c.calculateTextPosition=Qi(h,{isRoundCap:l===ra}),n){var g=c.shape,v=i?"r":"endAngle",f={};g[v]=i?a.r0:a.startAngle,f[v]=a[v],(s?q:tt)(c,{shape:f},n)}return c}};function nn(r,e){var t=r.get("realtimeSort",!0),a=e.getBaseAxis();if(t&&a.type==="category"&&e.type==="cartesian2d")return{baseAxis:a,otherAxis:e.getOtherAxis(a)}}function oa(r,e,t,a,i,n,o,s){var u,l;n?(l={x:a.x,width:a.width},u={y:a.y,height:a.height}):(l={y:a.y,height:a.height},u={x:a.x,width:a.width}),s||(o?q:tt)(t,{shape:u},e,i,null);var c=e?r.baseAxis.model:null;(o?q:tt)(t,{shape:l},c,i)}function sa(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var on=["x","y","width","height"],sn=["cx","cy","r","startAngle","endAngle"],la={cartesian2d:function(r){return!sa(r,on)},polar:function(r){return!sa(r,sn)}},kt={cartesian2d:function(r,e,t){var a=r.getItemLayout(e),i=t?un(t,a):0,n=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+n*i/2,y:a.y+o*i/2,width:a.width-n*i,height:a.height-o*i}},polar:function(r,e,t){var a=r.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function ln(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Ka(r){return function(e){var t=e?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+t;default:return a}}}(r)}function ua(r,e,t,a,i,n,o,s){var u=e.getItemVisual(t,"style");if(s){if(!n.get("roundCap")){var c=r.shape,h=en(a.getModel("itemStyle"),c);lt(c,h),r.setShape(c)}}else{var l=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",l)}r.useStyle(u);var g=a.getShallow("cursor");g&&r.attr("cursor",g);var v=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",f=Wt(a);Ht(r,f,{labelFetcher:n,labelDataIndex:t,defaultText:_e(n.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:v});var p=r.getTextContent();if(s&&p){var y=a.get(["label","position"]);r.textConfig.inside=y==="middle"?!0:null,tn(r,y==="outside"?v:y,Ka(o),a.get(["label","rotate"]))}Mr(p,f,n.getRawValue(t),function(m){return Ha(e,m)});var d=a.getModel(["emphasis"]);Ot(r,d.get("focus"),d.get("blurScope"),d.get("disabled")),ae(r,a),ln(i)&&(r.style.fill="none",r.style.stroke="none",M(r.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function un(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(a,i,n)}var cn=function(){function r(){}return r}(),ca=function(r){O(e,r);function e(t){var a=r.call(this,t)||this;return a.type="largeBar",a}return e.prototype.getDefaultShape=function(){return new cn},e.prototype.buildPath=function(t,a){for(var i=a.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<i.length;c+=3)u[n]=l,u[o]=i[c+2],s[n]=i[c+n],s[o]=i[c+o],t.rect(s[0],s[1],u[0],u[1])},e}(qt);function ha(r,e,t,a){var i=r.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=r.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new ca({shape:{points:l},incremental:!!a,silent:!0,z2:0});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),t&&t.push(c)}var h=new ca({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,X(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",va),h.on("mousemove",va)),t&&t.push(h)}var va=Er(function(r){var e=this,t=hn(e,r.offsetX,r.offsetY);X(e).dataIndex=t>=0?t:null},30,!1);function hn(r,e,t){for(var a=r.baseDimIdx,i=1-a,n=r.shape.points,o=r.largeDataIndices,s=[],u=[],l=r.barWidth,c=0,h=n.length/3;c<h;c++){var g=c*3;if(u[a]=l,u[i]=n[g+2],s[a]=n[g+a],s[i]=n[g+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&t>=s[1]&&t<=s[1]+u[1])return o[c]}return-1}function Qa(r,e,t){if(Ce(t,"cartesian2d")){var a=e,i=t.getArea();return{x:r?a.x:i.x,y:r?i.y:a.y,width:r?a.width:i.width,height:r?i.height:a.height}}else{var i=t.getArea(),n=e;return{cx:i.cx,cy:i.cy,r0:r?i.r0:n.r0,r:r?i.r:n.r,startAngle:r?n.startAngle:0,endAngle:r?n.endAngle:Math.PI*2}}}function vn(r,e,t){var a=r.type==="polar"?de:it;return new a({shape:Qa(e,t,r),silent:!0,z2:0})}function fn(r){r.registerChartView(rn),r.registerSeriesModel(Ji),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,K(Or,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Gr("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ja("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var gn=function(r){O(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(me),se=function(r){O(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ot).models[0]},e.type="cartesian2dAxis",e}(me);Rr(se,mi);var tr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},pn=Q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},tr),Le=Q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},tr),dn=Q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Le),mn=ut({logBase:10},Le);const yn={category:pn,value:Le,time:dn,log:mn};var xn={value:1,category:1,time:1,log:1};function fa(r,e,t,a){M(xn,function(i,n){var o=Q(Q({},yn[n],!0),a,!0),s=function(u){O(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+n,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var g=Nr(this),v=g?Ea(c):{},f=h.getTheme();Q(c,f.get(n+"Axis")),Q(c,this.getDefaultOption()),c.type=ga(c),g&&Oa(c,v,g)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Vr.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+n,l.defaultOption=o,l}(t);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(e+"Axis",ga)}function ga(r){return r.type||(r.data?"category":"value")}var bn=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return N(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ft(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}(),le=["x","y"];function pa(r){return r.type==="interval"||r.type==="time"}var Sn=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=le,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!pa(t)||!pa(a))){var i=t.getExtent(),n=a.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),u=i[1]-i[0],l=n[1]-n[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,h=(s[1]-o[1])/l,g=o[0]-i[0]*c,v=o[1]-n[0]*h,f=this._transform=[c,0,0,h,g,v];this._invTransform=zr([],f)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var i=this.dataToPoint(t),n=this.dataToPoint(a),o=this.getArea(),s=new Be(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Fe(i,t,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,a)),i[1]=u.toGlobalCoord(u.dataToCoord(o,a)),i},e.prototype.clampData=function(t,a){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),u=i.parse(t[0]),l=n.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var i=[];if(this._invTransform)return Fe(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),a),i[1]=o.coordToData(o.toLocalCoord(t[1]),a),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var a=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(a[0],a[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(a[0],a[1])-n+t,u=Math.max(i[0],i[1])-o+t;return new Be(n,o,s,u)},e}(bn),An=function(r){O(e,r);function e(t,a,i,n,o){var s=r.call(this,t,a,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Li),Kt=Math.log;function _n(r,e,t){var a=Br.prototype,i=a.getTicks.call(t),n=a.getTicks.call(t,!0),o=i.length-1,s=a.getInterval.call(t),u=Fr(r,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(r.type==="log"){var g=Kt(r.base);l=[Kt(l[0])/g,Kt(l[1])/g]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var v=a.getExtent.call(r);c&&(l[0]=v[0]),h&&(l[1]=v[1]);var f=a.getInterval.call(r),p=l[0],y=l[1];if(c&&h)f=(y-p)/o;else if(c)for(y=l[0]+f*o;y<l[1]&&isFinite(y)&&isFinite(l[1]);)f=Xt(f),y=l[0]+f*o;else if(h)for(p=l[1]-f*o;p>l[0]&&isFinite(p)&&isFinite(l[0]);)f=Xt(f),p=l[1]-f*o;else{var d=r.getTicks().length-1;d>o&&(f=Xt(f));var m=f*o;y=Math.ceil(l[1]/f)*f,p=U(y-m),p<0&&l[0]>=0?(p=0,y=U(m)):y>0&&l[1]<=0&&(y=0,p=-U(m))}var x=(i[0].value-n[0].value)/s,A=(i[o].value-n[o].value)/s;a.setExtent.call(r,p+f*x,y+f*A),a.setInterval.call(r,f),(x||A)&&a.setNiceExtent.call(r,p+f,y-f)}var Dn=function(){function r(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=le,this._initCartesian(e,t,a),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=qr(o),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var g=+u[h],v=o[g],f=v.model,p=v.scale;ie(p)&&f.get("alignTicks")&&f.get("interval")==null?c.push(v):($e(p,f),ie(p)&&(s=v))}c.length&&(s||(s=c.pop(),$e(s.scale,s.model)),M(c,function(y){_n(y.scale,y.model,s.scale)}))}}i(a.x),i(a.y);var n={};M(a.x,function(o){da(a,"y",o,n)}),M(a.y,function(o){da(a,"x",o,n)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,a){var i=e.getBoxLayoutParams(),n=!a&&e.get("containLabel"),o=re(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;u(),n&&(M(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=Wr(l);if(c){var h=l.isHorizontal()?"height":"width",g=l.model.get(["axisLabel","margin"]);o[h]-=c[h]+g,l.position==="top"?o.y+=c.height+g:l.position==="left"&&(o.x+=c.width+g)}}}),u()),M(this._coordsList,function(l){l.calcAffineTransform()});function u(){M(s,function(l){var c=l.isHorizontal(),h=c?[0,o.width]:[0,o.height],g=l.inverse?1:0;l.setExtent(h[g],h[1-g]),Cn(l,c?o.x:o.y)})}},r.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}ka(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===e||n[i].getAxis("y").index===t)return n[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",ot).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",ot).models[0],n=e.gridModel,o=this._coordsList,s,u;if(t)s=t.coordinateSystem,Mt(o,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)u=this.getAxis("x",a.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(n){var l=n.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,a){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,M(s.x,function(c,h){M(s.y,function(g,v){var f="x"+h+"y"+v,p=new Sn(f);p.master=i,p.model=e,i._coordsMap[f]=p,i._coordsList.push(p),p.addAxis(c),p.addAxis(g)})});function l(c){return function(h,g){if(Qt(h,e)){var v=h.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var f=new An(c,Hr(h),[0,0],h.get("type"),v),p=f.type==="category";f.onBand=p&&h.get("boundaryGap"),f.inverse=h.get("inverse"),h.axis=f,f.model=h,f.grid=n,f.index=g,n._axesList.push(f),s[c][g]=f,u[c]++}}}},r.prototype._updateScale=function(e,t){M(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),e.eachSeries(function(i){if(We(i)){var n=He(i),o=n.xAxisModel,s=n.yAxisModel;if(!Qt(o,t)||!Qt(s,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),c=u.getAxis("x"),h=u.getAxis("y");a(l,c),a(l,h)}},this);function a(i,n){M($r(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(e){var t=[],a=[];return M(this.getCartesians(),function(i){var n=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(n);Mt(t,n)<0&&t.push(n),Mt(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},r.create=function(e,t){var a=[];return e.eachComponent("grid",function(i,n){var o=new r(i,e,t);o.name="grid_"+n,o.resize(i,t,!0),i.coordinateSystem=o,a.push(o)}),e.eachSeries(function(i){if(We(i)){var n=He(i),o=n.xAxisModel,s=n.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=le,r}();function Qt(r,e){return r.getCoordSysModel()===e}function da(r,e,t,a){t.getAxesOnZeroOf=function(){return n?[n]:[]};var i=r[e],n,o=t.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)ma(i[u])&&(n=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&ma(i[l])&&!a[c(i[l])]){n=i[l];break}n&&(a[c(n)]=!0);function c(h){return h.dim+"_"+h.index}}function ma(r){return r&&r.type!=="category"&&r.type!=="time"&&Ur(r)}function Cn(r,e){var t=r.getExtent(),a=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return a-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return a-i+e}}var ue=Ca();function Ln(r,e,t,a){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var c=s.length,h=ue(r).splitAreaColors,g=St(),v=0;if(h)for(var f=0;f<l.length;f++){var p=h.get(l[f].tickValue);if(p!=null){v=(p+(c-1)*f)%c;break}}var y=i.toGlobalCoord(l[0].coord),d=o.getAreaStyle();s=at(s)?s:[s];for(var f=1;f<l.length;f++){var m=i.toGlobalCoord(l[f].coord),x=void 0,A=void 0,b=void 0,_=void 0;i.isHorizontal()?(x=y,A=u.y,b=m-x,_=u.height,y=x+b):(x=u.x,A=y,b=u.width,_=m-A,y=A+_);var S=l[f-1].tickValue;S!=null&&g.set(S,v),e.add(new it({anid:S!=null?"area_"+S:null,shape:{x,y:A,width:b,height:_},style:ut({fill:s[v]},d),autoBatch:!0,silent:!0})),v=(v+1)%c}ue(r).splitAreaColors=g}}}function wn(r){ue(r).splitAreaColors=null}var In=["axisLine","axisTickLabel","axisName"],kn=["splitArea","splitLine","minorSplitLine"],er=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new rt,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),u=Xr(s,t),l=new Zr(t,lt({handleAutoShown:function(h){for(var g=s.coordinateSystem.getCartesians(),v=0;v<g.length;v++)if(ie(g[v].getOtherAxis(t.axis).scale))return!0;return!1}},u));M(In,l.add,l),this._axisGroup.add(l.getGroup()),M(kn,function(h){t.get([h,"show"])&&Pn[h](this,this._axisGroup,t,s)},this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;c||Yr(o,this._axisGroup,t),r.prototype.render.call(this,t,a,i,n)}},e.prototype.remove=function(){wn(this)},e.type="cartesianAxis",e}(jr),Pn={splitLine:function(r,e,t,a){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),u=n.get("showMinLine")!==!1,l=n.get("showMaxLine")!==!1;s=at(s)?s:[s];for(var c=a.coordinateSystem.getRect(),h=i.isHorizontal(),g=0,v=i.getTicksCoords({tickModel:n}),f=[],p=[],y=o.getLineStyle(),d=0;d<v.length;d++){var m=i.toGlobalCoord(v[d].coord);if(!(d===0&&!u||d===v.length-1&&!l)){var x=v[d].tickValue;h?(f[0]=m,f[1]=c.y,p[0]=m,p[1]=c.y+c.height):(f[0]=c.x,f[1]=m,p[0]=c.x+c.width,p[1]=m);var A=g++%s.length,b=new qe({anid:x!=null?"line_"+x:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:ut({stroke:s[A]},y),silent:!0});Ue(b.shape,y.lineWidth),e.add(b)}}}},minorSplitLine:function(r,e,t,a){var i=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],h=[],g=o.getLineStyle(),v=0;v<l.length;v++)for(var f=0;f<l[v].length;f++){var p=i.toGlobalCoord(l[v][f].coord);u?(c[0]=p,c[1]=s.y,h[0]=p,h[1]=s.y+s.height):(c[0]=s.x,c[1]=p,h[0]=s.x+s.width,h[1]=p);var y=new qe({anid:"minor_line_"+l[v][f].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:g,silent:!0});Ue(y.shape,g.lineWidth),e.add(y)}},splitArea:function(r,e,t,a){Ln(r,e,t,a)}},ar=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(er),Tn=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=ar.type,t}return e.type="yAxis",e}(er),Mn=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new it({shape:t.coordinateSystem.getRect(),style:ut({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Ga),ya={offset:0};function En(r){r.registerComponentView(Mn),r.registerComponentModel(gn),r.registerCoordinateSystem("cartesian2d",Dn),fa(r,"x",se,ya),fa(r,"y",se,ya),r.registerComponentView(ar),r.registerComponentView(Tn),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function we(r){et(En),et(Jr)}function On(r,e){var t=Kr(e.get("padding")),a=e.getItemStyle(["color","opacity"]);return a.fill=e.get("backgroundColor"),r=new it({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var Gn=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},ce=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,a,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),this._updateSelector(t)},e.prototype._updateSelector=function(t){var a=t.selector,i=this.ecModel;a===!0&&(a=t.selector=["all","inverse"]),at(a)&&M(a,function(n,o){At(n)&&(n={type:n}),a[o]=Q(n,Gn(i,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var a=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),a=!0;break}}!a&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var a=[],i=[];t.eachRawSeries(function(u){var l=u.name;i.push(l);var c;if(u.legendVisualProvider){var h=u.legendVisualProvider,g=h.getAllNames();t.isSeriesFiltered(u)||(i=i.concat(g)),g.length?a=a.concat(g):c=!0}else c=!0;c&&Qr(u)&&a.push(u.name)}),this._availableNames=i;var n=this.get("data")||a,o=St(),s=N(n,function(u){return(At(u)||$t(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new ti(u,this,this.ecModel))},this);this._data=Ft(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var a=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;M(n,function(o){a[o.get("name")]=!1})}a[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var a=this.option.selected;a.hasOwnProperty(t)||(a[t]=!0),this[a[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,a=this.option.selected;M(t,function(i){a[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,a=this.option.selected;M(t,function(i){var n=i.get("name",!0);a.hasOwnProperty(n)||(a[n]=!0),a[n]=!a[n]})},e.prototype.isSelected=function(t){var a=this.option.selected;return!(a.hasOwnProperty(t)&&!a[t])&&Mt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(me),vt=K,he=M,Pt=rt,rr=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Pt),this.group.add(this._selectorGroup=new Pt),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,a,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var u=t.get("selector",!0),l=t.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,t,a,i,u,s,l);var c=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},g=t.get("padding"),v=re(c,h,g),f=this.layoutInner(t,o,v,n,u,l),p=re(ut({width:f.width,height:f.height},c),h,g);this.group.x=p.x-f.x,this.group.y=p.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=On(f,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,a,i,n,o,s,u){var l=this.getContentGroup(),c=St(),h=a.get("selectedMode"),g=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&g.push(v.id)}),he(a.getData(),function(v,f){var p=v.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var y=new Pt;y.newline=!0,l.add(y);return}var d=i.getSeriesByName(p)[0];if(!c.get(p))if(d){var m=d.getData(),x=m.getVisual("legendLineStyle")||{},A=m.getVisual("legendIcon"),b=m.getVisual("style"),_=this._createItem(d,p,f,v,a,t,x,b,A,h,n);_.on("click",vt(xa,p,null,n,g)).on("mouseover",vt(ve,d.name,null,n,g)).on("mouseout",vt(fe,d.name,null,n,g)),i.ssr&&_.eachChild(function(S){var C=X(S);C.seriesIndex=d.seriesIndex,C.dataIndex=f,C.ssrType="legend"}),c.set(p,!0)}else i.eachRawSeries(function(S){if(!c.get(p)&&S.legendVisualProvider){var C=S.legendVisualProvider;if(!C.containName(p))return;var k=C.indexOfName(p),w=C.getItemVisual(k,"style"),D=C.getItemVisual(k,"legendIcon"),L=ei(w.fill);L&&L[3]===0&&(L[3]=.2,w=lt(lt({},w),{fill:ai(L,"rgba")}));var I=this._createItem(S,p,f,v,a,t,{},w,D,h,n);I.on("click",vt(xa,null,p,n,g)).on("mouseover",vt(ve,null,p,n,g)).on("mouseout",vt(fe,null,p,n,g)),i.ssr&&I.eachChild(function(E){var P=X(E);P.seriesIndex=S.seriesIndex,P.dataIndex=f,P.ssrType="legend"}),c.set(p,!0)}},this)},this),o&&this._createSelector(o,a,n,s,u)},e.prototype._createSelector=function(t,a,i,n,o){var s=this.getSelectorGroup();he(t,function(l){var c=l.type,h=new Rt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:a.id})}});s.add(h);var g=a.getModel("selectorLabel"),v=a.getModel(["emphasis","selectorLabel"]);Ht(h,{normal:g,emphasis:v},{defaultText:l.title}),Xe(h)})},e.prototype._createItem=function(t,a,i,n,o,s,u,l,c,h,g){var v=t.visualDrawType,f=o.get("itemWidth"),p=o.get("itemHeight"),y=o.isSelected(a),d=n.get("symbolRotate"),m=n.get("symbolKeepAspect"),x=n.get("icon");c=x||c||"roundRect";var A=Rn(c,n,u,l,v,y,g),b=new Pt,_=n.getModel("textStyle");if($(t.getLegendIcon)&&(!x||x==="inherit"))b.add(t.getLegendIcon({itemWidth:f,itemHeight:p,icon:c,iconRotate:d,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:m}));else{var S=x==="inherit"&&t.getData().getVisual("symbol")?d==="inherit"?t.getData().getVisual("symbolRotate"):d:0;b.add(Nn({itemWidth:f,itemHeight:p,icon:c,iconRotate:S,itemStyle:A.itemStyle,symbolKeepAspect:m}))}var C=s==="left"?f+5:-5,k=s,w=o.get("formatter"),D=a;At(w)&&w?D=w.replace("{name}",a??""):$(w)&&(D=w(a));var L=y?_.getTextColor():n.get("inactiveColor");b.add(new Rt({style:ri(_,{text:D,x:C,y:p/2,fill:L,align:k,verticalAlign:"middle"},{inheritColor:L})}));var I=new it({shape:b.getBoundingRect(),style:{fill:"transparent"}}),E=n.getModel("tooltip");return E.get("show")&&ii({el:I,componentModel:o,itemName:a,itemTooltipOption:E.option}),b.add(I),b.eachChild(function(P){P.silent=!0}),I.silent=!h,this.getContentGroup().add(b),Xe(b),b.__legendDataIndex=i,b},e.prototype.layoutInner=function(t,a,i,n,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();yt(t.get("orient"),u,t.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),h=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),o){yt("horizontal",l,t.get("selectorItemGap",!0));var g=l.getBoundingRect(),v=[-g.x,-g.y],f=t.get("selectorButtonGap",!0),p=t.getOrient().index,y=p===0?"width":"height",d=p===0?"height":"width",m=p===0?"y":"x";s==="end"?v[p]+=c[y]+f:h[p]+=g[y]+f,v[1-p]+=c[d]/2-g[d]/2,l.x=v[0],l.y=v[1],u.x=h[0],u.y=h[1];var x={x:0,y:0};return x[y]=c[y]+f+g[y],x[d]=Math.max(c[d],g[d]),x[m]=Math.min(0,g[m]+v[1-p]),x}else return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ga);function Rn(r,e,t,a,i,n,o){function s(y,d){y.lineWidth==="auto"&&(y.lineWidth=d.lineWidth>0?2:0),he(y,function(m,x){y[x]==="inherit"&&(y[x]=d[x])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",h=u.getShallow("decal");l.decal=!h||h==="inherit"?a.decal:ni(h,o),l.fill==="inherit"&&(l.fill=a[i]),l.stroke==="inherit"&&(l.stroke=a[c]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?a:t).opacity),s(l,a);var g=e.getModel("lineStyle"),v=g.getLineStyle();if(s(v,t),l.fill==="auto"&&(l.fill=a.fill),l.stroke==="auto"&&(l.stroke=a.fill),v.stroke==="auto"&&(v.stroke=a.fill),!n){var f=e.get("inactiveBorderWidth"),p=l[c];l.lineWidth=f==="auto"?a.lineWidth>0&&p?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),v.stroke=g.get("inactiveColor"),v.lineWidth=g.get("inactiveWidth")}return{itemStyle:l,lineStyle:v}}function Nn(r){var e=r.icon||"roundRect",t=Et(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function xa(r,e,t,a){fe(r,e,t,a),t.dispatchAction({type:"legendToggleSelect",name:r??e}),ve(r,e,t,a)}function ir(r){for(var e=r.getZr().storage.getDisplayList(),t,a=0,i=e.length;a<i&&!(t=e[a].states.emphasis);)a++;return t&&t.hoverLayer}function ve(r,e,t,a){ir(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:a})}function fe(r,e,t,a){ir(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:a})}function Vn(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var a=0;a<e.length;a++)if(!e[a].isSelected(t.name))return!1;return!0})}function mt(r,e,t){var a=r==="allSelect"||r==="inverseSelect",i={},n=[];t.eachComponent({mainType:"legend",query:e},function(s){a?s[r]():s[r](e.name),ba(s,i),n.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){M(i,function(u,l){s[u?"select":"unSelect"](l)}),ba(s,o)}),a?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function ba(r,e){var t=e||{};return M(r.getData(),function(a){var i=a.get("name");if(!(i===`
`||i==="")){var n=r.isSelected(i);oi(t,i)?t[i]=t[i]&&n:t[i]=n}}),t}function zn(r){r.registerAction("legendToggleSelect","legendselectchanged",K(mt,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",K(mt,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",K(mt,"inverseSelect")),r.registerAction("legendSelect","legendselected",K(mt,"select")),r.registerAction("legendUnSelect","legendunselected",K(mt,"unSelect"))}function nr(r){r.registerComponentModel(ce),r.registerComponentView(rr),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Vn),r.registerSubTypeDefaulter("legend",function(){return"plain"}),zn(r)}var Bn=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,a,i){var n=Ea(t);r.prototype.init.call(this,t,a,i),Sa(this,t,n)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),Sa(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ma(ce.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(ce);function Sa(r,e,t){var a=r.getOrient(),i=[1,1];i[a.index]=0,Oa(e,t,{type:"box",ignoreSize:!!i})}var Aa=rt,te=["width","height"],ee=["x","y"],Fn=function(r){O(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Aa),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Aa)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,a,i,n,o,s,u){var l=this;r.prototype.renderInner.call(this,t,a,i,n,o,s,u);var c=this._controllerGroup,h=a.get("pageIconSize",!0),g=at(h)?h:[h,h];f("pagePrev",0);var v=a.getModel("pageTextStyle");c.add(new Rt({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1);function f(p,y){var d=p+"DataIndex",m=si(a.get("pageIcons",!0)[a.getOrient().name][y],{onclick:Pa(l._pageGo,l,d,a,n)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});m.name=p,c.add(m)}},e.prototype.layoutInner=function(t,a,i,n,o,s){var u=this.getSelectorGroup(),l=t.getOrient().index,c=te[l],h=ee[l],g=te[1-l],v=ee[1-l];o&&yt("horizontal",u,t.get("selectorItemGap",!0));var f=t.get("selectorButtonGap",!0),p=u.getBoundingRect(),y=[-p.x,-p.y],d=li(i);o&&(d[c]=i[c]-p[c]-f);var m=this._layoutContentAndController(t,n,d,l,c,g,v,h);if(o){if(s==="end")y[l]+=m[c]+f;else{var x=p[c]+f;y[l]-=x,m[h]-=x}m[c]+=p[c]+f,y[1-l]+=m[v]+m[g]/2-p[g]/2,m[g]=Math.max(m[g],p[g]),m[v]=Math.min(m[v],p[v]+y[1-l]),u.x=y[0],u.y=y[1],u.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,a,i,n,o,s,u,l){var c=this.getContentGroup(),h=this._containerGroup,g=this._controllerGroup;yt(t.get("orient"),c,t.get("itemGap"),n?i.width:null,n?null:i.height),yt("horizontal",g,t.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),f=g.getBoundingRect(),p=this._showController=v[o]>i[o],y=[-v.x,-v.y];a||(y[n]=c[l]);var d=[0,0],m=[-f.x,-f.y],x=ui(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var A=t.get("pageButtonPosition",!0);A==="end"?m[n]+=i[o]-f[o]:d[n]+=f[o]+x}m[1-n]+=v[s]/2-f[s]/2,c.setPosition(y),h.setPosition(d),g.setPosition(m);var b={x:0,y:0};if(b[o]=p?i[o]:v[o],b[s]=Math.max(v[s],f[s]),b[u]=Math.min(0,f[u]+m[1-n]),h.__rectSize=i[o],p){var _={x:0,y:0};_[o]=Math.max(i[o]-f[o]-x,0),_[s]=b[s],h.setClipPath(new it({shape:_})),h.__rectSize=_[o]}else g.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return S.pageIndex!=null&&q(c,{x:S.contentPosition[0],y:S.contentPosition[1]},p?t:null),this._updatePageInfoView(t,S),b},e.prototype._pageGo=function(t,a,i){var n=this._getPageInfo(a)[t];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:a.id})},e.prototype._updatePageInfoView=function(t,a){var i=this._controllerGroup;M(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",g=a[h]!=null,v=i.childOfName(c);v&&(v.setStyle("fill",g?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),v.cursor=g?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),s=a.pageIndex,u=s!=null?s+1:0,l=a.pageCount;n&&o&&n.setStyle("text",At(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(t){var a=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=te[o],u=ee[o],l=this._findTargetItemIndex(a),c=i.children(),h=c[l],g=c.length,v=g?1:0,f={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return f;var p=A(h);f.contentPosition[o]=-p.s;for(var y=l+1,d=p,m=p,x=null;y<=g;++y)x=A(c[y]),(!x&&m.e>d.s+n||x&&!b(x,d.s))&&(m.i>d.i?d=m:d=x,d&&(f.pageNextDataIndex==null&&(f.pageNextDataIndex=d.i),++f.pageCount)),m=x;for(var y=l-1,d=p,m=p,x=null;y>=-1;--y)x=A(c[y]),(!x||!b(m,x.s))&&d.i<m.i&&(m=d,f.pagePrevDataIndex==null&&(f.pagePrevDataIndex=d.i),++f.pageCount,++f.pageIndex),d=x;return f;function A(_){if(_){var S=_.getBoundingRect(),C=S[u]+_[u];return{s:C,e:C+S[s],i:_.__legendDataIndex}}}function b(_,S){return _.e>=S&&_.s<=S+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var a,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var u=o.__legendDataIndex;n==null&&u!=null&&(n=s),u===t&&(a=s)}),a??n},e.type="legend.scroll",e}(rr);function Wn(r){r.registerAction("legendScroll","legendscroll",function(e,t){var a=e.scrollDataIndex;a!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(a)})})}function Hn(r){et(nr),r.registerComponentModel(Bn),r.registerComponentView(Fn),Wn(r)}function Ie(r){et(nr),et(Hn)}const $n={__name:"StackedLine",props:{title:{type:String,default:"Stacked Line Chart"},xAxisData:{type:Array,required:!0},seriesData:{type:Array,required:!0},chartWidth:{type:Number,required:!0},chartHeight:{type:Number,required:!0}},setup(r){et([Ja,we,xe,be,Ie,Se]);const e=r,t=Nt(),a=xt(()=>t.dark.isActive),i=nt(null);let n=null;const o=()=>{if(!i.value)return;n||(n=ye(i.value));const s={title:{text:e.title,left:"center",textStyle:{color:a.value?"#ffffff":"#000000"}},tooltip:{trigger:"axis"},legend:{top:"10%",textStyle:{color:a.value?"#ffffff":"#000000"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.xAxisData,axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"},axisLabel:{color:a.value?"#ffffff":"#000000"}}},yAxis:{type:"value"},series:e.seriesData.map(u=>({name:u.name,type:"line",stack:"Total",areaStyle:{},data:u.data,axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"}},axisLabel:{color:a.value?"#ffffff":"#000000"}}))};n.setOption(s)};return gt(()=>[e.chartWidth,e.chartHeight],()=>{n&&n.resize()}),gt(()=>[e.xAxisData,e.seriesData,a.value],()=>{o()},{deep:!0}),zt(()=>{o()}),Bt(()=>{n&&(n.dispose(),n=null)}),(s,u)=>(J(),ge("div",{ref_key:"chart",ref:i,style:bt({width:"100%",height:`${r.chartHeight}px`})},null,4))}},qn=Vt($n,[["__scopeId","data-v-4c87a13a"]]),Un={__name:"LineCharts",props:{title:{type:String,default:"Line Chart"},xAxisData:{type:Array,required:!0},seriesData:{type:Array,required:!0},chartWidth:{type:Number,required:!0},chartHeight:{type:Number,required:!0}},setup(r){et([Ja,we,xe,be,Ie,Se]);const e=r,t=Nt(),a=xt(()=>t.dark.isActive),i=nt(null);let n=null;const o=()=>{if(!i.value)return;n||(n=ye(i.value));const s={title:{text:e.title,left:"center",textStyle:{color:a.value?"#ffffff":"#000000"}},tooltip:{trigger:"axis"},legend:{top:"10%",textStyle:{color:a.value?"#ffffff":"#000000"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.xAxisData,axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"},axisLabel:{color:a.value?"#ffffff":"#000000"}}},yAxis:{type:"value"},series:e.seriesData.map(u=>({name:u.name,type:"line",smooth:!0,data:u.data,axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"}},axisLabel:{color:a.value?"#ffffff":"#000000"}}))};n.setOption(s)};return gt(()=>[e.chartWidth,e.chartHeight],()=>{n&&n.resize()}),gt(()=>[e.xAxisData,e.seriesData,a.value],()=>{o()},{deep:!0}),zt(()=>{o()}),Bt(()=>{n&&(n.dispose(),n=null)}),(s,u)=>(J(),ge("div",{ref_key:"chart",ref:i,style:bt({width:"100%",height:`${r.chartHeight}px`})},null,4))}},Xn=Vt(Un,[["__scopeId","data-v-94f06f3e"]]),Zn={__name:"StackedBar",props:{title:{type:String,default:"Normalized Bar Chart"},xAxisData:{type:Array,required:!0},seriesData:{type:Array,required:!0},chartHeight:{type:Number,required:!0}},setup(r){et([fn,we,xe,be,Ie,Se]);const e=r,t=Nt(),a=xt(()=>t.dark.isActive),i=nt(null);let n=null;const o=l=>{const c=[],h=l[0].data.map((g,v)=>l.reduce((f,p)=>f+p.data[v],0));return l.forEach(g=>{c.push({name:g.name,type:"bar",stack:"total",data:g.data.map((v,f)=>h[f]===0?0:v/h[f]*100)})}),c},s=()=>{if(!i.value)return;n||(n=ye(i.value));const l={title:{text:e.title,left:"center",textStyle:{color:a.value?"#ffffff":"#000000"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:c=>{let h=`${c[0].axisValue}<br/>`;return c.forEach(g=>{h+=`${g.marker} ${g.seriesName}: ${g.value.toFixed(2)}%<br/>`}),h}},legend:{top:"10%",textStyle:{color:a.value?"#ffffff":"#000000"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:e.xAxisData,axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"}},axisLabel:{color:a.value?"#ffffff":"#000000"}},yAxis:{type:"value",axisLine:{lineStyle:{color:a.value?"#ffffff":"#000000"}},axisLabel:{color:a.value?"#ffffff":"#000000",formatter:"{value}%"}},series:o(e.seriesData)};n.setOption(l)};gt(()=>[e.xAxisData,e.seriesData,a.value],()=>{s()},{deep:!0}),zt(()=>{s(),window.addEventListener("resize",u)}),Bt(()=>{n&&(n.dispose(),n=null),window.removeEventListener("resize",u)});const u=()=>{n&&n.resize()};return(l,c)=>(J(),ge("div",{ref_key:"chart",ref:i,style:bt({width:"100%",height:`${r.chartHeight}px`})},null,4))}},_a=Vt(Zn,[["__scopeId","data-v-e3c96ffb"]]),Yn={class:"col-6 q-pa-md"},jn={class:"col-6 q-pa-md"},Jn={class:"col-6 q-pa-md"},Kn={class:"col-6 q-pa-md"},Qn={__name:"ServerEcharts",setup(r){const e=Nt(),t=ur(),a=xt(()=>e.screen.height*.73/2),i=xt(()=>e.screen.width*.825),n=a.value;let o=null;const s=nt({title:"",xAxis_list:[],series_list:[]}),u=nt({title:"",xAxis_list:[],series_list:[]}),l=nt({title:"",xAxis_list:[],series_list:[]}),c=nt({title:"",xAxis_list:[],series_list:[]});function h(){lr({url:"core/server/echarts/"}).then(v=>{s.value=v.cpu_data,u.value=v.memory_data,l.value=v.disk_data,c.value=v.network_data}).catch(v=>{e.notify({type:"error",message:v}),e.loading.hide()})}zt(()=>{g(),h(),o=setInterval(()=>{h()},6e4)}),Bt(()=>{o&&clearInterval(o)});function g(){sr.on("needLogin",v=>{v&&console.log("needLogin")})}return gt(()=>t.langData,v=>{v&&h()}),(v,f)=>(J(),dt(or,{class:"flex flex-col q-pa-md"},{default:cr(()=>[ct("div",{class:"row full-width",style:bt({height:`${a.value}px`})},[ct("div",Yn,[s.value.series_list.length?(J(),dt(Xn,{key:0,title:s.value.title,"x-axis-data":s.value.xAxis_list,"series-data":s.value.series_list,"show-legend":!0,"chart-height":Lt(n),"chart-width":i.value},null,8,["title","x-axis-data","series-data","chart-height","chart-width"])):Ct("",!0)]),ct("div",jn,[u.value.series_list.length?(J(),dt(_a,{key:0,title:u.value.title,"x-axis-data":u.value.xAxis_list,"series-data":u.value.series_list,"show-legend":!0,"chart-height":Lt(n),"chart-width":i.value},null,8,["title","x-axis-data","series-data","chart-height","chart-width"])):Ct("",!0)])],4),ct("div",{class:"row full-width",style:bt({height:`${a.value}px`})},[ct("div",Jn,[l.value.series_list.length?(J(),dt(_a,{key:0,title:l.value.title,"x-axis-data":l.value.xAxis_list,"series-data":l.value.series_list,"show-legend":!0,"chart-height":Lt(n),"chart-width":i.value},null,8,["title","x-axis-data","series-data","chart-height","chart-width"])):Ct("",!0)]),ct("div",Kn,[c.value.series_list.length?(J(),dt(qn,{key:0,title:c.value.title,"x-axis-data":c.value.xAxis_list,"series-data":c.value.series_list,"show-legend":!0,"chart-height":Lt(n),"chart-width":i.value},null,8,["title","x-axis-data","series-data","chart-height","chart-width"])):Ct("",!0)])],4)]),_:1}))}},oo=Vt(Qn,[["__scopeId","data-v-f290be49"]]);export{oo as default};
