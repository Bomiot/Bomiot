import{d9 as Bt,as as Ce,_ as He,aI as z,j as yt,aa as xt,el as je,dx as wt,c8 as Gt,U as de,e as T,aJ as K,a8 as It,X as F,K as Re,f as Le,u as _t,ao as G,bT as Ee,aG as Xt,aH as Yt,t as Te,H as Ne,dD as Ft,aZ as Me,aX as Ut,bi as Zt,aN as qt,b$ as Ke,aP as fe,d1 as $t,em as jt,aT as Kt,aw as Jt,bW as Je,bp as ve,az as Qt,v as De,c5 as ea,c7 as ta,B as se,bg as Qe,bf as aa,cw as ra,aF as ia,bh as na,en as et,dz as re,eo as tt,bl as at,aA as oa,aB as sa,ep as la,bk as ua,b6 as ha,ap as Q,eq as me,ek as ye,au as ee,ej as da,er as J,dv as bt,av as fa,x as rt,bv as va,g as ca,es as it}from"./install-DogX_3Yh.js";var nt="\0_ec_interaction_mutex";function hr(a,t,e){var r=Pe(a);r[t]=e}function dr(a,t,e){var r=Pe(a),i=r[t];i===e&&(r[t]=null)}function ot(a,t){return!!Pe(a)[t]}function Pe(a){return a[nt]||(a[nt]={})}Bt({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ce);var pa=function(a){He(t,a);function t(e){var r=a.call(this)||this;r._zr=e;var i=z(r._mousedownHandler,r),n=z(r._mousemoveHandler,r),o=z(r._mouseupHandler,r),s=z(r._mousewheelHandler,r),l=z(r._pinchHandler,r);return r.enable=function(u,h){this.disable(),this._opt=yt(xt(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",i),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",i),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!je(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!oe("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||ot(this._zr,"globalPan"))){var r=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=r-n,l=i-o;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&wt(e.event),Tt(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){je(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=oe("zoomOnMouseWheel",e,this._opt),i=oe("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;xe(this,"zoom","zoomOnMouseWheel",e,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(n),v=(n>0?1:-1)*(f>3?.4:f>1?.15:.05);xe(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:v,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!ot(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;xe(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Gt);function xe(a,t,e,r,i){a.pointerChecker&&a.pointerChecker(r,i.originX,i.originY)&&(wt(r.event),Tt(a,t,e,r,i))}function Tt(a,t,e,r,i){i.isAvailableBehavior=z(oe,null,e,r),a.trigger(t,i)}function oe(a,t,e){var r=e[a];return!a||r&&(!de(r)||t.event[r+"Key"])}var N=Re();function ga(a){var t=a.mainData,e=a.datas;e||(e={main:t},a.datasAttr={main:"data"}),a.datas=a.mainData=null,Mt(t,e,a),T(e,function(r){T(t.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,K(ma,a))})}),t.wrapMethod("cloneShallow",K(xa,a)),T(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,K(ya,a))}),It(e[t.dataType]===t)}function ma(a,t){if(_a(this)){var e=F({},N(this).datas);e[this.dataType]=t,Mt(t,e,a)}else ke(t,this.dataType,N(this).mainData,a);return t}function ya(a,t){return a.struct&&a.struct.update(),t}function xa(a,t){return T(N(t).datas,function(e,r){e!==t&&ke(e.cloneShallow(),r,t,a)}),t}function wa(a){var t=N(this).mainData;return a==null||t==null?t:N(t).datas[a]}function Ia(){var a=N(this).mainData;return a==null?[{data:a}]:Le(_t(N(a).datas),function(t){return{type:t,data:N(a).datas[t]}})}function _a(a){return N(a).mainData===a}function Mt(a,t,e){N(a).datas={},T(t,function(r,i){ke(r,i,a,e)})}function ke(a,t,e,r){N(e).datas[t]=a,N(a).mainData=e,a.dataType=t,r.struct&&(a[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=a),a.getLinkedData=wa,a.getLinkedDataAll=Ia}var ba=function(){function a(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(t,e,r){Te(t)&&(r=e,e=t,t=null),t=t||{},de(t)&&(t={order:t});var i=t.order||"preorder",n=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(r,this));for(var s=0;!o&&s<n.length;s++)n[s].eachNode(t,e,r);i==="postorder"&&e.call(r,this)},a.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},a.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,i=r.length;e<i;e++){var n=r[e].getNodeById(t);if(n)return n}},a.prototype.contains=function(t){if(t===this)return!0;for(var e=0,r=this.children,i=r.length;e<i;e++){var n=r[e].contains(t);if(n)return n}},a.prototype.getAncestors=function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},a.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},a.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},a.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},a.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,r=e.data.getItemModel(this.dataIndex);return r.getModel(t)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},a.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},a.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},a.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},a}(),Ta=function(){function a(t){this.type="tree",this._nodes=[],this.hostModel=t}return a.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)},a.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},a.prototype.getNodeById=function(t){return this.root.getNodeById(t)},a.prototype.update=function(){for(var t=this.data,e=this._nodes,r=0,i=e.length;r<i;r++)e[r].dataIndex=-1;for(var r=0,i=t.count();r<i;r++)e[t.getRawIndex(r)].dataIndex=r},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(t,e,r){var i=new a(e),n=[],o=1;s(t);function s(h,f){var v=h.value;o=Math.max(o,G(v)?v.length:1),n.push(h);var c=new ba(Ee(h.name,""),i);f?Ma(c,f):i.root=c,i._nodes.push(c);var g=h.children;if(g)for(var d=0;d<g.length;d++)s(g[d],c)}i.root.updateDepthAndHeight(0);var l=Xt(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Yt(l,e);return u.initData(n),r&&r(u),ga({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},a}();function Ma(a,t){var e=t.children;a.parentNode!==t&&(e.push(a),a.parentNode=t)}function ze(a,t,e){if(a&&Ne(t,a.type)>=0){var r=e.getData().tree.root,i=a.targetNode;if(de(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var n=a.targetNodeId;if(n!=null&&(i=r.getNodeById(n)))return{node:i}}}function Dt(a){for(var t=[];a;)a=a.parentNode,a&&t.push(a);return t.reverse()}function St(a,t){var e=Dt(a);return Ne(e,t)>=0}function Vt(a,t){for(var e=[];a;){var r=a.dataIndex;e.push({name:a.name,dataIndex:r,value:t.getRawValue(r)}),a=a.parentNode}return e.reverse(),e}var st=["treemapZoomToNode","treemapRender","treemapMove"];function Da(a){for(var t=0;t<st.length;t++)a.registerAction({type:st[t],update:"updateView"},Ce);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(n,o){var s=["treemapZoomToNode","treemapRootToNode"],l=ze(e,s,n);if(l){var u=n.getViewRoot();u&&(e.direction=St(u,l.node)?"rollUp":"drillDown"),n.resetViewRoot(l.node)}}})}function Sa(a){var t=a.getData(),e=t.tree,r={};e.eachNode(function(i){for(var n=i;n&&n.depth>1;)n=n.parentNode;var o=Ft(a.ecModel,n.name||n.dataIndex+"",r);i.setVisual("decal",o)})}var Va=function(a){He(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};At(i);var n=e.levels||[],o=this.designatedVisualItemStyle={},s=new Me({itemStyle:o},this,r);n=e.levels=Aa(n,r);var l=Le(n||[],function(f){return new Me(f,s,r)},this),u=Ta.createTree(i,this,h);function h(f){f.wrapMethod("getItemModel",function(v,c){var g=u.getNodeByDataIndex(c),d=g?l[g.depth]:null;return v.parentModel=d||s,v})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,r,i){var n=this.getData(),o=this.getRawValue(e),s=n.getName(e);return Ut("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(e){var r=a.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=Vt(i,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},F(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=Zt(),this._idIndexMapCount=0);var i=r.get(e);return i==null&&r.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){Sa(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(qt);function At(a){var t=0;T(a.children,function(r){At(r);var i=r.value;G(i)&&(i=i[0]),t+=i});var e=a.value;G(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),G(a.value)?a.value[0]=e:a.value=e}function Aa(a,t){var e=Ke(t.get("color")),r=Ke(t.get(["aria","decal","decals"]));if(e){a=a||[];var i,n;T(a,function(s){var l=new Me(s),u=l.get("color"),h=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||h&&h!=="none")&&(n=!0)});var o=a[0]||(a[0]={});return i||(o.color=e.slice()),!n&&r&&(o.decal=r.slice()),a}}var Ca=8,lt=8,we=5,Ha=function(){function a(t){this.group=new fe,t.add(this.group)}return a.prototype.render=function(t,e,r,i){var n=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!n.get("show")||!r)){var s=n.getModel("itemStyle"),l=n.getModel("emphasis"),u=s.getModel("textStyle"),h=l.getModel(["itemStyle","textStyle"]),f={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,s,l,u,h,i),$t(o,f.pos,f.box)}},a.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var n=Ee(i.getModel().get("name"),""),o=r.getTextRect(n),s=Math.max(o.width+Ca*2,e.emptyItemWidth);e.totalWidth+=s+lt,e.renderList.push({node:i,text:n,width:s})}},a.prototype._renderContent=function(t,e,r,i,n,o,s){for(var l=0,u=e.emptyItemWidth,h=t.get(["breadcrumb","height"]),f=jt(e.pos,e.box),v=e.totalWidth,c=e.renderList,g=i.getModel("itemStyle").getItemStyle(),d=c.length-1;d>=0;d--){var p=c[d],w=p.node,m=p.width,y=p.text;v>f.width&&(v-=m-u,m=u,y=null);var I=new Kt({shape:{points:Ra(l,0,m,h,d===c.length-1,d===0)},style:yt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Jt({style:Je(n,{text:y})}),textConfig:{position:"inside"},z2:ve*1e4,onclick:K(s,w)});I.disableLabelAnimation=!0,I.getTextContent().ensureState("emphasis").style=Je(o,{text:y}),I.ensureState("emphasis").style=g,Qt(I,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(I),La(I,t,w),l+=m+lt}},a.prototype.remove=function(){this.group.removeAll()},a}();function Ra(a,t,e,r,i,n){var o=[[i?a:a-we,t],[a+e,t],[a+e,t+r],[i?a:a-we,t+r]];return!n&&o.splice(2,0,[a+e+we,t+r/2]),!i&&o.push([a,t+r/2]),o}function La(a,t,e){De(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Vt(e,t)}}var Ea=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(t,e,r,i,n){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:r,delay:i,easing:n}),!0)},a.prototype.finished=function(t){return this._finishedCallback=t,this},a.prototype.start=function(){for(var t=this,e=this._storage.length,r=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},a}();function Na(){return new Ea}var Se=fe,ut=ha,ht=3,dt="label",ft="upperLabel",Pa=ve*10,ka=ve*2,za=ve*3,X=ea([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),vt=function(a){var t=X(a);return t.stroke=t.fill=t.lineWidth=null,t},le=Re(),Oa=function(a){He(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=q(),e}return t.prototype.render=function(e,r,i,n){var o=r.findComponents({mainType:"series",subType:"treemap",query:n});if(!(Ne(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=ze(n,s,e),u=n&&n.type,h=e.layoutInfo,f=!this._oldTree,v=this._storage,c=u==="treemapRootToNode"&&l&&v?{rootNodeGroup:v.nodeGroup[l.node.getRawIndex()],direction:n.direction}:null,g=this._giveContainerGroup(h),d=e.get("animation"),p=this._doRender(g,e,c);d&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,p,e,c):p.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,l)}},t.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new Se,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},t.prototype._doRender=function(e,r,i){var n=r.getData().tree,o=this._oldTree,s=q(),l=q(),u=this._storage,h=[];function f(m,y,I,A){return Wa(r,l,u,i,s,h,m,y,I,A)}d(n.root?[n.root]:[],o&&o.root?[o.root]:[],e,n===o||!o,0);var v=p(u);if(this._oldTree=n,this._storage=l,this._controllerHost){var c=this.seriesModel.layoutInfo,g=n.root.getLayout();g.width===c.width&&g.height===c.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:v,renderFinally:w};function d(m,y,I,A,E){A?(y=m,T(m,function(O,B){!O.isRemoved()&&H(B,B)})):new ta(y,m,C,C).add(H).update(H).remove(K(H,null)).execute();function C(O){return O.getId()}function H(O,B){var M=O!=null?m[O]:null,R=B!=null?y[B]:null,U=f(M,R,I,E);U&&d(M&&M.viewChildren||[],R&&R.viewChildren||[],U,A,E+1)}}function p(m){var y=q();return m&&T(m,function(I,A){var E=y[A];T(I,function(C){C&&(E.push(C),le(C).willDelete=!0)})}),y}function w(){T(v,function(m){T(m,function(y){y.parent&&y.parent.remove(y)})}),T(h,function(m){m.invisible=!0,m.dirty()})}},t.prototype._doAnimation=function(e,r,i,n){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Te(o)?0:o)||0,u=(Te(s)?null:s)||"cubicOut",h=Na();T(r.willDeleteEls,function(f,v){T(f,function(c,g){if(!c.invisible){var d=c.parent,p,w=le(d);if(n&&n.direction==="drillDown")p=d===n.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var m=0,y=0;w.willDelete||(m=w.nodeWidth/2,y=w.nodeHeight/2),p=v==="nodeGroup"?{x:m,y,style:{opacity:0}}:{shape:{x:m,y,width:0,height:0},style:{opacity:0}}}p&&h.add(c,p,l,0,u)}})}),T(this._storage,function(f,v){T(f,function(c,g){var d=r.lastsForAnimation[v][g],p={};d&&(c instanceof fe?d.oldX!=null&&(p.x=c.x,p.y=c.y,c.x=d.oldX,c.y=d.oldY):(d.oldShape&&(p.shape=F({},c.shape),c.setShape(d.oldShape)),d.fadein?(c.setStyle("opacity",0),p.style={opacity:1}):c.style.opacity!==1&&(p.style={opacity:1})),h.add(c,p,l,0,u))})},this),this._state="animating",h.finished(z(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(e){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||(r=this._controller=new pa(e.getZr()),r.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",z(this._onPan,this)),r.on("zoom",z(this._onZoom,this)));var n=new se(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(o,s,l){return n.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>ht||Math.abs(e.dy)>ht)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var r=e.originX,i=e.originY,n=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new se(s.x,s.y,s.width,s.height),u=null,h=this._controllerHost;u=h.zoomLimit;var f=h.zoom=h.zoom||1;if(f*=n,u){var v=u.min||0,c=u.max||1/0;f=Math.max(Math.min(c,f),v)}var g=f/h.zoom;h.zoom=f;var d=this.seriesModel.layoutInfo;r-=d.x,i-=d.y;var p=na();Qe(p,p,[-r,-i]),aa(p,p,[g,g]),Qe(p,p,[r,i]),l.applyTransform(p),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var r=this;e.on("click",function(i){if(r._state==="ready"){var n=r.seriesModel.get("nodeClick",!0);if(n){var o=r.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(n==="zoomToNode")r._zoomToNode(o);else if(n==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&ra(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,r,i){var n=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Ha(this.group))).render(e,r,i.node,function(o){n._state!=="animating"&&(St(e.getViewRoot(),o)?n._rootToNode({node:o}):n._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=q(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,r){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(ia);function q(){return{nodeGroup:[],background:[],content:[]}}function Wa(a,t,e,r,i,n,o,s,l,u){if(!o)return;var h=o.getLayout(),f=a.getData(),v=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!h||!h.isInView)return;var c=h.width,g=h.height,d=h.borderWidth,p=h.invisible,w=o.getRawIndex(),m=s&&s.getRawIndex(),y=o.viewChildren,I=h.upperHeight,A=y&&y.length,E=v.getModel("itemStyle"),C=v.getModel(["emphasis","itemStyle"]),H=v.getModel(["blur","itemStyle"]),O=v.getModel(["select","itemStyle"]),B=E.get("borderRadius")||0,M=ge("nodeGroup",Se);if(!M)return;if(l.add(M),M.x=h.x||0,M.y=h.y||0,M.markRedraw(),le(M).nodeWidth=c,le(M).nodeHeight=g,h.isAboveViewRoot)return M;var R=ge("background",ut,u,ka);R&&kt(M,R,A&&h.upperLabelHeight);var U=v.getModel("emphasis"),ce=U.get("focus"),Be=U.get("blurScope"),Ge=U.get("disabled"),Xe=ce==="ancestor"?o.getAncestorsIndices():ce==="descendant"?o.getDescendantIndices():ce;if(A)et(M)&&re(M,!1),R&&(re(R,!Ge),f.setItemGraphicEl(o.dataIndex,R),tt(R,Xe,Be));else{var pe=ge("content",ut,u,za);pe&&zt(M,pe),R.disableMorphing=!0,R&&et(R)&&re(R,!1),re(M,!Ge),f.setItemGraphicEl(o.dataIndex,M);var Ye=v.getShallow("cursor");Ye&&pe.attr("cursor",Ye),tt(M,Xe,Be)}return M;function kt(_,x,S){var b=De(x);if(b.dataIndex=o.dataIndex,b.seriesIndex=a.seriesIndex,x.setShape({x:0,y:0,width:c,height:g,r:B}),p)Fe(x);else{x.invisible=!1;var D=o.getVisual("style"),L=D.stroke,P=vt(E);P.fill=L;var V=X(C);V.fill=C.get("borderColor");var k=X(H);k.fill=H.get("borderColor");var W=X(O);if(W.fill=O.get("borderColor"),S){var Z=c-2*d;Ue(x,L,D.opacity,{x:d,y:0,width:Z,height:I})}else x.removeTextContent();x.setStyle(P),x.ensureState("emphasis").style=V,x.ensureState("blur").style=k,x.ensureState("select").style=W,at(x)}_.add(x)}function zt(_,x){var S=De(x);S.dataIndex=o.dataIndex,S.seriesIndex=a.seriesIndex;var b=Math.max(c-2*d,0),D=Math.max(g-2*d,0);if(x.culling=!0,x.setShape({x:d,y:d,width:b,height:D,r:B}),p)Fe(x);else{x.invisible=!1;var L=o.getVisual("style"),P=L.fill,V=vt(E);V.fill=P,V.decal=L.decal;var k=X(C),W=X(H),Z=X(O);Ue(x,P,L.opacity,null),x.setStyle(V),x.ensureState("emphasis").style=k,x.ensureState("blur").style=W,x.ensureState("select").style=Z,at(x)}_.add(x)}function Fe(_){!_.invisible&&n.push(_)}function Ue(_,x,S,b){var D=v.getModel(b?ft:dt),L=Ee(v.get("name"),null),P=D.getShallow("show");oa(_,sa(v,b?ft:dt),{defaultText:P?L:null,inheritColor:x,defaultOpacity:S,labelFetcher:a,labelDataIndex:o.dataIndex});var V=_.getTextContent();if(V){var k=V.style,W=la(k.padding||0);b&&(_.setTextConfig({layoutRect:b}),V.disableLabelLayout=!0),V.beforeUpdate=function(){var qe=Math.max((b?b.width:_.shape.width)-W[1]-W[3],0),$e=Math.max((b?b.height:_.shape.height)-W[0]-W[2],0);(k.width!==qe||k.height!==$e)&&V.setStyle({width:qe,height:$e})},k.truncateMinChar=2,k.lineOverflow="truncate",Ze(k,b,h);var Z=V.getState("emphasis");Ze(Z?Z.style:null,b,h)}}function Ze(_,x,S){var b=_?_.text:null;if(!x&&S.isLeafRoot&&b!=null){var D=a.get("drillDownIcon",!0);_.text=D?D+" "+b:b}}function ge(_,x,S,b){var D=m!=null&&e[_][m],L=i[_];return D?(e[_][m]=null,Ot(L,D)):p||(D=new x,D instanceof ua&&(D.z2=Ba(S,b)),Wt(L,D)),t[_][w]=D}function Ot(_,x){var S=_[w]={};x instanceof Se?(S.oldX=x.x,S.oldY=x.y):S.oldShape=F({},x.shape)}function Wt(_,x){var S=_[w]={},b=o.parentNode,D=x instanceof fe;if(b&&(!r||r.direction==="drillDown")){var L=0,P=0,V=i.background[b.getRawIndex()];!r&&V&&V.oldShape&&(L=V.oldShape.width,P=V.oldShape.height),D?(S.oldX=0,S.oldY=P):S.oldShape={x:L,y:P,width:0,height:0}}S.fadein=!D}}function Ba(a,t){return a*Pa+t}var te=T,Ga=Q,ue=-1,Oe=function(){function a(t){var e=t.mappingMethod,r=t.type,i=this.option=xt(t);this.type=r,this.mappingMethod=e,this._normalizeData=Fa[e];var n=a.visualHandlers[r];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(Ie(i),Xa(i)):e==="category"?i.categories?Ya(i):Ie(i,!0):(It(e!=="linear"||i.dataExtent),Ie(i))}return a.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},a.prototype.getNormalizer=function(){return z(this._normalizeData,this)},a.listVisualTypes=function(){return _t(a.visualHandlers)},a.isValidType=function(t){return a.visualHandlers.hasOwnProperty(t)},a.eachVisual=function(t,e,r){Q(t)?T(t,e,r):e.call(r,t)},a.mapVisual=function(t,e,r){var i,n=G(t)?[]:Q(t)?{}:(i=!0,null);return a.eachVisual(t,function(o,s){var l=e.call(r,o,s);i?n=l:n[s]=l}),n},a.retrieveVisuals=function(t){var e={},r;return t&&te(a.visualHandlers,function(i,n){t.hasOwnProperty(n)&&(e[n]=t[n],r=!0)}),r?e:null},a.prepareVisualTypes=function(t){if(G(t))t=t.slice();else if(Ga(t)){var e=[];te(t,function(r,i){e.push(i)}),t=e}else return[];return t.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},a.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},a.findPieceIndex=function(t,e,r){for(var i,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||de(l)&&l===t+"")return o;r&&v(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],h=u.interval,f=u.close;if(h){if(h[0]===-1/0){if(ne(f[1],t,h[1]))return o}else if(h[1]===1/0){if(ne(f[0],h[0],t))return o}else if(ne(f[0],h[0],t)&&ne(f[1],t,h[1]))return o;r&&v(h[0],o),r&&v(h[1],o)}}if(r)return t===1/0?e.length-1:t===-1/0?0:i;function v(c,g){var d=Math.abs(c-t);d<n&&(n=d,i=g)}},a.visualHandlers={color:{applyVisual:$("color"),getColorMapper:function(){var t=this.option;return z(t.mappingMethod==="category"?function(e,r){return!r&&(e=this._normalizeData(e)),j.call(this,e)}:function(e,r,i){var n=!!i;return!r&&(e=this._normalizeData(e)),i=me(e,t.parsedVisual,i),n?i:ye(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return ye(me(t,this.option.parsedVisual),"rgba")},category:j,piecewise:function(t,e){var r=Ae.call(this,e);return r==null&&(r=ye(me(t,this.option.parsedVisual),"rgba")),r},fixed:Y}},colorHue:ie(function(t,e){return J(t,e)}),colorSaturation:ie(function(t,e){return J(t,null,e)}),colorLightness:ie(function(t,e){return J(t,null,null,e)}),colorAlpha:ie(function(t,e){return bt(t,e)}),decal:{applyVisual:$("decal"),_normalizedToVisual:{linear:null,category:j,piecewise:null,fixed:null}},opacity:{applyVisual:$("opacity"),_normalizedToVisual:Ve([0,1])},liftZ:{applyVisual:$("liftZ"),_normalizedToVisual:{linear:Y,category:Y,piecewise:Y,fixed:Y}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:ct,category:j,piecewise:function(t,e){var r=Ae.call(this,e);return r==null&&(r=ct.call(this,t)),r},fixed:Y}},symbolSize:{applyVisual:$("symbolSize"),_normalizedToVisual:Ve([0,1])}},a}();function Xa(a){var t=a.pieceList;a.hasSpecialVisual=!1,T(t,function(e,r){e.originIndex=r,e.visual!=null&&(a.hasSpecialVisual=!0)})}function Ya(a){var t=a.categories,e=a.categoryMap={},r=a.visual;if(te(t,function(o,s){e[o]=s}),!G(r)){var i=[];Q(r)?te(r,function(o,s){var l=e[s];i[l??ue]=o}):i[ue]=r,r=Ct(a,i)}for(var n=t.length-1;n>=0;n--)r[n]==null&&(delete e[t[n]],t.pop())}function Ie(a,t){var e=a.visual,r=[];Q(e)?te(e,function(n){r.push(n)}):e!=null&&r.push(e);var i={color:1,symbol:1};!t&&r.length===1&&!i.hasOwnProperty(a.type)&&(r[1]=r[0]),Ct(a,r)}function ie(a){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",a(e("color"),i))},_normalizedToVisual:Ve([0,1])}}function ct(a){var t=this.option.visual;return t[Math.round(ee(a,[0,1],[0,t.length-1],!0))]||{}}function $(a){return function(t,e,r){r(a,this.mapValueToVisual(t))}}function j(a){var t=this.option.visual;return t[this.option.loop&&a!==ue?a%t.length:a]}function Y(){return this.option.visual[0]}function Ve(a){return{linear:function(t){return ee(t,a,this.option.visual,!0)},category:j,piecewise:function(t,e){var r=Ae.call(this,e);return r==null&&(r=ee(t,a,this.option.visual,!0)),r},fixed:Y}}function Ae(a){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var r=Oe.findPieceIndex(a,e),i=e[r];if(i&&i.visual)return i.visual[this.type]}}function Ct(a,t){return a.visual=t,a.type==="color"&&(a.parsedVisual=Le(t,function(e){var r=da(e);return r||[0,0,0,1]})),t}var Fa={linear:function(a){return ee(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var t=this.option.pieceList,e=Oe.findPieceIndex(a,t,!0);if(e!=null)return ee(e,[0,t.length-1],[0,1],!0)},category:function(a){var t=this.option.categories?this.option.categoryMap[a]:a;return t??ue},fixed:Ce};function ne(a,t,e){return a?t<=e:t<e}var Ua="itemStyle",Ht=Re();const Za={seriesType:"treemap",reset:function(a){var t=a.getData().tree,e=t.root;e.isRemoved()||Rt(e,{},a.getViewRoot().getAncestors(),a)}};function Rt(a,t,e,r){var i=a.getModel(),n=a.getLayout(),o=a.hostTree.data;if(!(!n||n.invisible||!n.isInView)){var s=i.getModel(Ua),l=qa(s,t,r),u=o.ensureUniqueItemVisual(a.dataIndex,"style"),h=s.get("borderColor"),f=s.get("borderColorSaturation"),v;f!=null&&(v=pt(l),h=$a(f,v)),u.stroke=h;var c=a.viewChildren;if(!c||!c.length)v=pt(l),u.fill=v;else{var g=ja(a,i,n,s,l,c);T(c,function(d,p){if(d.depth>=e.length||d===e[d.depth]){var w=Ka(i,l,d,p,g,r);Rt(d,w,e,r)}})}}}function qa(a,t,e){var r=F({},t),i=e.designatedVisualItemStyle;return T(["color","colorAlpha","colorSaturation"],function(n){i[n]=t[n];var o=a.get(n);i[n]=null,o!=null&&(r[n]=o)}),r}function pt(a){var t=_e(a,"color");if(t){var e=_e(a,"colorAlpha"),r=_e(a,"colorSaturation");return r&&(t=J(t,null,null,r)),e&&(t=bt(t,e)),t}}function $a(a,t){return t!=null?J(t,null,null,a):null}function _e(a,t){var e=a[t];if(e!=null&&e!=="none")return e}function ja(a,t,e,r,i,n){if(!(!n||!n.length)){var o=be(t,"color")||i.color!=null&&i.color!=="none"&&(be(t,"colorAlpha")||be(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var h=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(h==="index"||h==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var v=new Oe(f);return Ht(v).drColorMappingBy=h,v}}}function be(a,t){var e=a.get(t);return G(e)&&e.length?{name:t,range:e}:null}function Ka(a,t,e,r,i,n){var o=F({},t);if(i){var s=i.type,l=s==="color"&&Ht(i).drColorMappingBy,u=l==="index"?r:l==="id"?n.mapIdToIndex(e.getId()):e.getValue(a.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var ae=Math.max,he=Math.min,gt=va,We=T,Lt=["itemStyle","borderWidth"],Ja=["itemStyle","gapWidth"],Qa=["upperLabel","show"],er=["upperLabel","height"];const tr={seriesType:"treemap",reset:function(a,t,e,r){var i=e.getWidth(),n=e.getHeight(),o=a.option,s=fa(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=o.size||[],u=rt(gt(s.width,l[0]),i),h=rt(gt(s.height,l[1]),n),f=r&&r.type,v=["treemapZoomToNode","treemapRootToNode"],c=ze(r,v,a),g=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,d=a.getViewRoot(),p=Dt(d);if(f!=="treemapMove"){var w=f==="treemapZoomToNode"?sr(a,c,d,u,h):g?[g.width,g.height]:[u,h],m=o.sort;m&&m!=="asc"&&m!=="desc"&&(m="desc");var y={squareRatio:o.squareRatio,sort:m,leafDepth:o.leafDepth};d.hostTree.clearLayouts();var I={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};d.setLayout(I),Et(d,y,!1,0),I=d.getLayout(),We(p,function(E,C){var H=(p[C+1]||d).getValue();E.setLayout(F({dataExtent:[H,H],borderWidth:0,upperHeight:0},I))})}var A=a.getData().tree.root;A.setLayout(lr(s,g,c),!0),a.setLayoutInfo(s),Nt(A,new se(-s.x,-s.y,i,n),p,d,0)}};function Et(a,t,e,r){var i,n;if(!a.isRemoved()){var o=a.getLayout();i=o.width,n=o.height;var s=a.getModel(),l=s.get(Lt),u=s.get(Ja)/2,h=Pt(s),f=Math.max(l,h),v=l-u,c=f-u;a.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:h},!0),i=ae(i-2*v,0),n=ae(n-v-c,0);var g=i*n,d=ar(a,s,g,t,e,r);if(d.length){var p={x:v,y:c,width:i,height:n},w=he(i,n),m=1/0,y=[];y.area=0;for(var I=0,A=d.length;I<A;){var E=d[I];y.push(E),y.area+=E.getLayout().area;var C=or(y,w,t.squareRatio);C<=m?(I++,m=C):(y.area-=y.pop().getLayout().area,mt(y,w,p,u,!1),w=he(p.width,p.height),y.length=y.area=0,m=1/0)}if(y.length&&mt(y,w,p,u,!0),!e){var H=s.get("childrenVisibleMin");H!=null&&g<H&&(e=!0)}for(var I=0,A=d.length;I<A;I++)Et(d[I],t,e,r+1)}}}function ar(a,t,e,r,i,n){var o=a.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=n;if(i&&!l)return a.viewChildren=[];o=ca(o,function(c){return!c.isRemoved()}),ir(o,s);var u=nr(t,o,s);if(u.sum===0)return a.viewChildren=[];if(u.sum=rr(t,e,u.sum,s,o),u.sum===0)return a.viewChildren=[];for(var h=0,f=o.length;h<f;h++){var v=o[h].getValue()/u.sum*e;o[h].setLayout({area:v})}return l&&(o.length&&a.setLayout({isLeafRoot:!0},!0),o.length=0),a.viewChildren=o,a.setLayout({dataExtent:u.dataExtent},!0),o}function rr(a,t,e,r,i){if(!r)return e;for(var n=a.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[r==="asc"?o-l-1:l].getValue();u/e*t<n&&(s=l,e-=u)}return r==="asc"?i.splice(0,o-s):i.splice(s,o-s),e}function ir(a,t){return t&&a.sort(function(e,r){var i=t==="asc"?e.getValue()-r.getValue():r.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:i}),a}function nr(a,t,e){for(var r=0,i=0,n=t.length;i<n;i++)r+=t[i].getValue();var o=a.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&s.reverse()):(s=[1/0,-1/0],We(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function or(a,t,e){for(var r=0,i=1/0,n=0,o=void 0,s=a.length;n<s;n++)o=a[n].getLayout().area,o&&(o<i&&(i=o),o>r&&(r=o));var l=a.area*a.area,u=t*t*e;return l?ae(u*r/l,l/(u*i)):1/0}function mt(a,t,e,r,i){var n=t===e.width?0:1,o=1-n,s=["x","y"],l=["width","height"],u=e[s[n]],h=t?a.area/t:0;(i||h>e[l[o]])&&(h=e[l[o]]);for(var f=0,v=a.length;f<v;f++){var c=a[f],g={},d=h?c.getLayout().area/h:0,p=g[l[o]]=ae(h-2*r,0),w=e[s[n]]+e[l[n]]-u,m=f===v-1||w<d?w:d,y=g[l[n]]=ae(m-2*r,0);g[s[o]]=e[s[o]]+he(r,p/2),g[s[n]]=u+he(r,y/2),u+=m,c.setLayout(g,!0)}e[s[o]]+=h,e[l[o]]-=h}function sr(a,t,e,r,i){var n=(t||{}).node,o=[r,i];if(!n||n===e)return o;for(var s,l=r*i,u=l*a.option.zoomToNodeRatio;s=n.parentNode;){for(var h=0,f=s.children,v=0,c=f.length;v<c;v++)h+=f[v].getValue();var g=n.getValue();if(g===0)return o;u*=h/g;var d=s.getModel(),p=d.get(Lt),w=Math.max(p,Pt(d));u+=4*p*p+(3*p+w)*Math.pow(u,.5),u>it&&(u=it),n=s}u<l&&(u=l);var m=Math.pow(u/l,.5);return[r*m,i*m]}function lr(a,t,e){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!e)return r;var i=e.node,n=i.getLayout();if(!n)return r;for(var o=[n.width/2,n.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:a.width/2-o[0],y:a.height/2-o[1]}}function Nt(a,t,e,r,i){var n=a.getLayout(),o=e[i],s=o&&o===a;if(!(o&&!s||i===e.length&&a!==r)){a.setLayout({isInView:!0,invisible:!s&&!t.intersect(n),isAboveViewRoot:s},!0);var l=new se(t.x-n.x,t.y-n.y,t.width,t.height);We(a.viewChildren||[],function(u){Nt(u,l,e,r,i+1)})}}function Pt(a){return a.get(Qa)?a.get(er):0}function fr(a){a.registerSeriesModel(Va),a.registerChartView(Oa),a.registerVisual(Za),a.registerLayout(tr),Da(a)}export{pa as R,Ta as T,Oe as V,ze as a,St as b,Sa as e,fr as i,ga as l,dr as r,hr as t,Vt as w};
